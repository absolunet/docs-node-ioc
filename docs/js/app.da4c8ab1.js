(function(s){function e(e){for(var a,o,l=e[0],p=e[1],v=e[2],c=0,_=[];c<l.length;c++)o=l[c],r[o]&&_.push(r[o][0]),r[o]=0;for(a in p)Object.prototype.hasOwnProperty.call(p,a)&&(s[a]=p[a]);i&&i(e);while(_.length)_.shift()();return n.push.apply(n,v||[]),t()}function t(){for(var s,e=0;e<n.length;e++){for(var t=n[e],a=!0,l=1;l<t.length;l++){var p=t[l];0!==r[p]&&(a=!1)}a&&(n.splice(e--,1),s=o(o.s=t[0]))}return s}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=s,o.c=a,o.d=function(s,e,t){o.o(s,e)||Object.defineProperty(s,e,{enumerable:!0,get:t})},o.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,e){if(1&e&&(s=o(s)),8&e)return s;if(4&e&&"object"===typeof s&&s&&s.__esModule)return s;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:s}),2&e&&"string"!=typeof s)for(var a in s)o.d(t,a,function(e){return s[e]}.bind(null,a));return t},o.n=function(s){var e=s&&s.__esModule?function(){return s["default"]}:function(){return s};return o.d(e,"a",e),e},o.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)},o.p="/docs-node-ioc/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=e,l=l.slice();for(var v=0;v<l.length;v++)e(l[v]);var i=p;n.push([0,"chunk-vendors"]),t()})({0:function(s,e,t){s.exports=t("56d7")},1083:function(s,e,t){},"13f0":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Validation")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"141f":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Multiple inheritance")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"18e3":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Security")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"194b":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Helpers")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"1cba":function(s,e,t){"use strict";var a=t("9c50"),r=t.n(a);r.a},"24e0":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Lifecycle")]),t("h2",[s._v("Introduction")]),t("p",[s._v("The application has an opinionated bootstrapping process. You can find all the bootstrapping process withing your own application, under "),t("code",{pre:!0},[s._v("src/bootstrap")]),s._v(". If you need to alterate the bootstrapping process, you can change the behavior in those files.")]),t("h2",[s._v("Overview")]),t("p",[s._v("The default Node IoC lifecycle starts from the framework, but is mainly dictated by the application bootstrapper.\nIt starts by loading the application, bootstrapping the service providers, then handling the CLI request, and finally terminating the process. The next paragraphs explain in depth the different bootstrapping stages.")]),t("h3",[s._v("Loading and configuring application")]),t("p",[s._v("First, the application is loaded from the framework package. The package exposes classes and mixins. You will not find any instances in the exposed items. The "),t("code",{pre:!0},[s._v("Application")]),s._v(" class can be directly used to make an instance of Node IoC application, with "),t("code",{pre:!0},[s._v("Applicatiuon.make()")]),s._v(" method.")]),t("p",[s._v("Once the application has been instantiated, the application must give basic information that is configurable for extending and testing purposes.")]),t("p",[s._v("First, we must give the base folder of the application, which would normally be the current working directory ("),t("code",{pre:!0},[s._v("process.cwd()")]),s._v("). However, since the working directory can be altered, in order to keep the code predictable, the working directory is manually given to the application instance.")]),t("p",[s._v("Second, we give the current Node.js "),t("code",{pre:!0},[s._v("module")]),s._v(" instance, which is the "),t("code",{pre:!0},[s._v("src/index.js")]),s._v(" module reference inside the bootstrapper. The application container uses this module to require files and packages, so no need to worry about packages tree-shaking issues. Your packages version will be use, even if it creates conflicts with other required versions.")]),t("p",[s._v("When the configuration is done, the bootstrapper binds the two main handlers: the "),t("code",{pre:!0},[s._v("kernel")]),s._v(", which is by default located at "),t("code",{pre:!0},[s._v("src/app/console/Kernel.js")]),s._v(", and the "),t("code",{pre:!0},[s._v("exception.handler")]),s._v(", which is by default located at "),t("code",{pre:!0},[s._v("src/app/exceptions/Handler.js")]),s._v(".")]),t("p",[s._v("The application instance contains four core bootstrappers that cannot be replaced since they are used by the core items in the framework:")]),t("ul",[t("li",[s._v("EventServiceProvider")]),t("li",[s._v("FileServiceProvider")]),t("li",[s._v("SupportServiceProvider")]),t("li",[s._v("ConfigServiceProvider")])]),t("h3",[s._v("Instantiate the kernel")]),t("p",[s._v("Now that everything has been configured, the application can run.")]),t("p",[s._v("The kernel is first instantiated. When it occurs, it will automatically register the core service providers of the framework. Those service providers contains all the useful services to bring Node IoC to life. Here are the core kernel bootstrappers:")]),t("ul",[t("li",[s._v("CacheServiceProvider,")]),t("li",[s._v("LogServiceProvider,")]),t("li",[s._v("HttpServiceProvider,")]),t("li",[s._v("SecurityServiceProvider,")]),t("li",[s._v("DatabaseServiceProvider,")]),t("li",[s._v("TranslationServiceProvider,")]),t("li",[s._v("ValidationServiceProvider,")]),t("li",[s._v("ViewServiceProvider")]),t("li",[s._v("TestServiceProvider (for non-production process)")])]),t("p",[s._v("The Console service provider adds the ConsoleServiceProvider in the bootstrappers list.")]),t("p",[s._v("However, instantiating the kernel will not boot the service providers. They will only be registered in the application.")]),t("p",[s._v("Your application and module service providers are not yet registered in the application. It will happen when the application boots.")]),t("h3",[s._v("Bootstrap application")]),t("p",[s._v("Not that all the core service providers have been registered into the application, we can start the application.")]),t("p",[s._v("It will first call the "),t("code",{pre:!0},[s._v("register")]),s._v(" method of all the registered service providers, followed by the "),t("code",{pre:!0},[s._v("boot")]),s._v(" method.")]),t("p",[s._v("Inside the "),t("code",{pre:!0},[s._v("register")]),s._v(" method, we must assume that no services are available yet. You should expose the services that your application or module are providing.")]),t("p",[s._v("Inside the "),t("code",{pre:!0},[s._v("boot")]),s._v(" method, all the service providers have been registered, we can now assume that the services are available.\nIt is a goot time to use the configuration, the command registrar, the router, etc.")]),t("h4",[s._v("Register service providers")]),t("p",[s._v("When the application boots, it will first register the four core application service providers.\nThe last one, the ConfigServiceProvider, will break the rule of assuming that no service are available, since it is directly linked to the application bootstrap process and is strongly bind to the good behaviour of your application.")]),t("p",[s._v("It will register all the service providers that are configured under the "),t("code",{pre:!0},[s._v("app.providers")]),s._v(" configuration key. You can add your service providers under the "),t("code",{pre:!0},[s._v("config/app.yaml")]),s._v(" file.")]),t("p",[s._v("It will register all the service providers into the application.")]),t("p",[s._v("Then, the real registration begins.")]),t("p",[s._v("The application will loop through all the registered service providers to first instantiate them, and then to call the "),t("code",{pre:!0},[s._v("register")]),s._v(" method. During that time, service providers are allowed to register other service providers. Those will be put in the current queue.")]),t("p",[s._v("You will only have two opportunities to register a service provider programmatically: before or during the register process and after the booting process. If you need to act after all the services are exposed, you can take a look at the "),t("code",{pre:!0},[s._v("this.app.onBooted()")]),s._v(" hook.")]),t("p",[s._v("During this phase you can bind your own services in the application container, and also load your configuration.")]),t("h4",[s._v("Boot service providers")]),t("p",[s._v("After all service providers are registered, they are booted through the "),t("code",{pre:!0},[s._v("boot")]),s._v(" method. During this phase, you can assume that the services are all registered. Feel free to use "),t("code",{pre:!0},[s._v("config")]),s._v(", "),t("code",{pre:!0},[s._v("command")]),s._v(", "),t("code",{pre:!0},[s._v("file")]),s._v(", "),t("code",{pre:!0},[s._v("router")]),s._v(", etc.")]),t("p",[s._v("During this phase, you can either interact with those services or initialize your own services. Since a service binding will not instantiate the class or call the closure, you will need to use "),t("code",{pre:!0},[s._v("this.app.make('my.service')")]),s._v(" to instantiate and initialize your service at least once (depending on its status as a singleton in the container).")]),t("p",[s._v("Common tasks done during this phase are registering commands, creating routes, adding translations, etc.")]),t("h3",[s._v("Handle request")]),t("p",[s._v("When the application has booted, the kernel will handle the request. If you are using the console kernel, which is already the case with a default Node IoC application, the handling process goes through "),t("code",{pre:!0},[s._v("beforeHandling")]),s._v(" and "),t("code",{pre:!0},[s._v("afterHandling")]),s._v(" internal hooks. The default application console kernel already load the application commands for you, so you don't have to manually register them.")]),t("p",[s._v("Once the "),t("code",{pre:!0},[s._v("beforeHandling")]),s._v(" hook has been called, the real handling process starts. The kernel will resolve the current command through the command registrar, which have access to the command repository and the Yargs engine. It will bootstrap the engine with the commands stored in the repository, and execute the command through the command runner.")]),t("p",[s._v("When the handling has completed without any error, the "),t("code",{pre:!0},[s._v("afterHandling")]),s._v(" internal hook is called in the console kernel. If an error occurs during the handling process, it will not be called.")]),t("h4",[s._v("preprocess")]),t("p",[s._v("First, the command "),t("code",{pre:!0},[s._v("preprocess")]),s._v(" method is called. This method has the ability to alter the received arguments from the CLI. By default, the arguments are not altered, but you may change them if you need to. The returned value will then be passed as the "),t("code",{pre:!0},[s._v("argv")]),s._v(".")]),t("h4",[s._v("handle")]),t("p",[s._v("The most common case is that you will need to handle the CLI request. In the "),t("code",{pre:!0},[s._v("handle")]),s._v(" method, the command process the request. It may output data in the terminal, call other services, etc. It plays the same role as a controller (or a handler) in a Web MVC/MVA application.")]),t("h4",[s._v("forwardCall")]),t("p",[s._v("It may happen that a created command only preprocess/postprocess data. In those cases, the "),t("code",{pre:!0},[s._v("handle")]),s._v(" method may not be called. If a "),t("code",{pre:!0},[s._v("forward")]),s._v(" property exists in the command instance, the value, that represents an underlying command name that will handle the process, will be use to forward the call to the specified command instance.")]),t("p",[s._v("Let's say for instance that "),t("code",{pre:!0},[s._v("foo")]),s._v(" and "),t("code",{pre:!0},[s._v("private:foo")]),s._v(" command exist, and only "),t("code",{pre:!0},[s._v("foo")]),s._v(" is visible through the CLI since the "),t("code",{pre:!0},[s._v("private:foo")]),s._v(" command has a "),t("code",{pre:!0},[s._v("private")]),s._v(" policy (we will go into this later). "),t("code",{pre:!0},[s._v("foo")]),s._v(" can then forward the call to "),t("code",{pre:!0},[s._v("private:foo")]),s._v(", but preprocess the input before calling "),t("code",{pre:!0},[s._v("private:foo")]),s._v(".")]),t("p",[s._v("If the signature of "),t("code",{pre:!0},[s._v("foo")]),s._v(" is "),t("code",{pre:!0},[s._v("foo [--bar]")]),s._v(", where "),t("code",{pre:!0},[s._v("[--bar]")]),s._v(" is an optional flag, and the signature of "),t("code",{pre:!0},[s._v("private:foo")]),s._v(" is "),t("code",{pre:!0},[s._v("private:foo <type>")]),s._v(", where "),t("code",{pre:!0},[s._v("<type>")]),s._v(" is a required parameter, the "),t("code",{pre:!0},[s._v("<type>")]),s._v(" parameter can be preprocessed from the "),t("code",{pre:!0},[s._v("[--bar]")]),s._v(" flag.")]),t("p",[s._v("It may be useful when using third party commands that remains private or scope to given policies in order to prevent command pollution in the CLI "),t("code",{pre:!0},[s._v("list")]),s._v(" command.")]),t("h4",[s._v("postprocess")]),t("p",[s._v("Finally, when the command has handle the request, or an underlying command has handle the request for the current command, the current command can act before the request termination.")]),t("h3",[s._v("Terminate process")]),t("p",[s._v("When the kernel has finish handling the request, it terminates the request. It will first call an internal hook called "),t("code",{pre:!0},[s._v("terminating")]),s._v(", so you can act before terminating the process.")]),t("p",[s._v("When terminating, the process will exit, if specified to exit. By default, the kernel is configured to exit the process when terminating. You can alter this behavior by calling "),t("code",{pre:!0},[s._v("kernel.shouldExit(false)")]),s._v(" to prevent process exit. However, if the process should exit, it will exit with code 0 or 1, depending if an exception has been handled by the "),t("code",{pre:!0},[s._v("exception.handler")]),s._v(" instance.")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"26d5":function(s){s.exports={app:{name:"Node IoC",repository:"https://github.com/absolunet/node-ioc-app",date:{since:"2019"},author:{name:"Absolunet",link:"https://absolunet.com"}},license:{type:"MIT",link:"https://github.com/absolunet/node-ioc/blob/master/license"},error:{404:"It's dark in here..."},catchPhrases:{heart:"❤︎","hard work":"hard work","heated debates":"heated debates","cold sweats":"cold sweats","bad puns":"bad puns","coffee & tea":"coffee & tea"},"Made with":"Made with",by:"by","You are here":"You are here",Home:"Home","View on GitHub":"View on GitHub","A complete NodeJS ecosystem with an elegant syntax for sparkling ideas":"A complete NodeJS ecosystem with an elegant syntax for sparkling ideas","Get started!":"Get started!",menu:{"getting-started":"Getting started",installation:"Installation","directory-structure":"Directory structure",architecture:"Architecture",lifecycle:"Lifecycle",container:"Container","service-provider":"Service Provider","first-steps":"First steps","create-a-command":"Create a command","create-a-web-page":"Create a Web page","create-an-api-endpoint":"Create an API endpoint","create-a-service":"Create a service",basics:"Basics",configuration:"Configuration",commands:"Commands",routing:"Routing",views:"Views",data:"Data",database:"Database",models:"Models",factories:"Factories","migrations-and-seeders":"Migrations and seeders","http-client":"HTTP client",caching:"Caching","going-deeper":"Going deeper","exception-handling":"Exception handling",events:"Events","file-system":"File system",helpers:"Helpers",logging:"Logging","multiple-inheritance":"Multiple inheritance",security:"Security",translation:"Translation",validation:"Validation",tests:"Tests","test-commands":"Test commands","test-class":"Test class"}}},2831:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Directory structure")]),t("h2",[s._v("Root folder")]),t("p",[s._v("The root folder contains some important files that drives the application, as well as style and standards files.")]),t("h3",[s._v("ioc")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("ioc")]),s._v(" file is the starting point for your application through the CLI. It will only load the main application file, "),t("code",{pre:!0},[s._v("dist/node/index.js")]),s._v(" by default. It allows to use the base command "),t("code",{pre:!0},[s._v("node ioc")]),s._v(".")]),t("h3",[s._v(".env")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v(".env")]),s._v(" file is used to merge custom environment variable to the global ones. It will (and should be) ignored by Git, since it can contain sensitive data, such as passwords, key-secret pairs, etc.")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v(".env.example")]),s._v(" is there to be used as a reference for your project. Feel free to change the example file while you develop your application to keep track of the changes and the new used variables. However, you should not write sensitive data in the example file, since it is part of your Git history.")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("APP_ENV")]),s._v(" key in your "),t("code",{pre:!0},[s._v(".env")]),s._v(" file defines the application environment. If you want to do a quick smoke test, simply change the value in the "),t("code",{pre:!0},[s._v(".env")]),s._v(" file and run the following command:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc env\n")])]),t("p",[s._v("This command displays the current application environment. You can rapidly make sure that the environment file is properly loaded.")]),t("h3",[s._v("Node tester, ESLint and EditorConfig")]),t("p",[s._v("To ensure that your application has the best code style, the "),t("a",{attrs:{href:"https://absolunet.com"}},[s._v("Absolunet")]),t("a",{attrs:{href:"https://github.com/absolunet/node-tester"}},[s._v("Node Tester")]),s._v(" offers standards tests that parse your files for styling issues.")]),t("p",[s._v("First, it uses the "),t("code",{pre:!0},[s._v(".editorconfig")]),s._v(" file to test basic code style for specified file extensions.")]),t("p",[s._v("Then, the popular "),t("a",{attrs:{href:"https://eslint.org/"}},[s._v("ESLint")]),s._v(" is run through your entire application. The "),t("code",{pre:!0},[s._v(".eslintrc.yaml")]),s._v(" defines the rules that apply to your project. The "),t("code",{pre:!0},[s._v(".eslintignore")]),s._v(" file add exceptions for some files through folders and patterns. For information, you may read the "),t("a",{attrs:{href:"https://eslint.org/docs/user-guide/configuring"}},[s._v("official documentation")])]),t("p",[s._v("To run the standards tests, run the following commands")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("test")]),s._v(":standards\n")])]),t("h3",[s._v("Node Manager")]),t("p",[s._v("The "),t("a",{attrs:{href:"https://absolunet.com"}},[s._v("Absolunet")]),t("a",{attrs:{href:"https://github.com/absolunet/node-manager"}},[s._v("Node Manager")]),s._v(" is a great tool for you to use that makes node applications and packages very simple to maintain. The "),t("code",{pre:!0},[s._v("manager.js")]),s._v(" file define your current project type (it is already defined for you) and your "),t("code",{pre:!0},[s._v("package.json")]),s._v(" file defines all the commands that handle compilation, outdated dependencies check, documentation generation through "),t("a",{attrs:{href:"https://jsdoc.app/"}},[s._v("JSDoc")]),s._v(" and package deployment through an NPM registry, such as "),t("a",{attrs:{href:"https://npmjs.com"}},[s._v("npmjs.com")]),s._v(".")]),t("p",[s._v("To compile your application, you can run the following command:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run manager:build\n")])]),t("p",[s._v("All the different commands are defined in the "),t("code",{pre:!0},[s._v("package.json")]),s._v(" file.")]),t("h2",[s._v("Source folder")]),t("p",[s._v("The source folder is located under "),t("code",{pre:!0},[s._v("[root]/src")]),s._v(". It contains the application source code. Those are mainly JavaScript class files. The source directory will be explored in detail later in this page.")]),t("h3",[s._v("Application folder")]),t("p",[s._v("The bootstrap folder is located under "),t("code",{pre:!0},[s._v("[root]/src/app")]),s._v(". It contains all your application-specific class files.")]),t("h4",[s._v("Console folder")]),t("p",[s._v("The console folder is located under "),t("code",{pre:!0},[s._v("[root]/src/app/console")]),s._v(". It contains all your console-related files, such as the main Kernel and the application command classes.")]),t("h4",[s._v("Exceptions folder")]),t("p",[s._v("The exceptions folder is located under "),t("code",{pre:!0},[s._v("[root]/src/app/exceptions")]),s._v(". It contains the main exception handler, as well as custom error classes.")]),t("h4",[s._v("HTTP folder")]),t("p",[s._v("The HTTP folder is located under "),t("code",{pre:!0},[s._v("[root]/src/app/http")]),s._v(". It contains all your HTTP-related classes, such as the controllers.")]),t("h4",[s._v("Providers folder")]),t("p",[s._v("The providers folder is located under "),t("code",{pre:!0},[s._v("[root]/src/app/providers")]),s._v(". It contains all your application service providers. By default, it contains "),t("code",{pre:!0},[s._v("AppServiceProvider.js")]),s._v(" and "),t("code",{pre:!0},[s._v("RouteServiceProvider.js")]),s._v(".")]),t("h3",[s._v("Bootstrap folder")]),t("p",[s._v("The bootstrap folder is located under "),t("code",{pre:!0},[s._v("[root]/src/bootstrap")]),s._v(". It contains the application bootstrap process file.")]),t("h3",[s._v("Database folder")]),t("p",[s._v("The database folder is located under "),t("code",{pre:!0},[s._v("[root]/src/database")]),s._v(". It contains all the database-related files, such as the migrations, the models, the seeders and the model factories.")]),t("h3",[s._v("Routes folder")]),t("p",[s._v("The routes folder is located under "),t("code",{pre:!0},[s._v("[root]/src/routes")]),s._v(". It contains all the application routes, by default split in two different files: "),t("code",{pre:!0},[s._v("web.js")]),s._v(" and "),t("code",{pre:!0},[s._v("api.js")]),s._v(".")]),t("h2",[s._v("Configuration folder")]),t("p",[s._v("The configuration folder is located at "),t("code",{pre:!0},[s._v("[root]/config")]),s._v(". It contains all the application configuration split into namespaces represented by files.")]),t("p",[s._v("By default, you should retrieve the following files:")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("app.yaml")])]),t("li",[t("code",{pre:!0},[s._v("cache.yaml")])]),t("li",[t("code",{pre:!0},[s._v("database.yaml")])]),t("li",[t("code",{pre:!0},[s._v("dev.yaml")])]),t("li",[t("code",{pre:!0},[s._v("events.yaml")])]),t("li",[t("code",{pre:!0},[s._v("http.yaml")])]),t("li",[t("code",{pre:!0},[s._v("logging.yaml")])]),t("li",[t("code",{pre:!0},[s._v("view.yaml")])])]),t("p",[s._v("Feel free to add any file you want. We suggest that the files uses the "),t("code",{pre:!0},[s._v(".yaml")]),s._v(" extension, but the "),t("code",{pre:!0},[s._v(".js")]),s._v(", "),t("code",{pre:!0},[s._v(".json")]),s._v(" and "),t("code",{pre:!0},[s._v("yml")]),s._v(" extensions are all supported. Please note that commonJS syntax must be used in JavaScript configuration files since they are not compiled by the Node Manager.")]),t("h2",[s._v("Distribution folder")]),t("p",[s._v("The distribution folder is located under "),t("code",{pre:!0},[s._v("[root]/dist")]),s._v(". It contains the compiled application files. You should never directly edit those files since they will be overwritten when compiling the application. You should always code in the "),t("code",{pre:!0},[s._v("src")]),s._v(" folder.")]),t("h2",[s._v("Documentation folder")]),t("p",[s._v("The distribution folder is located under "),t("code",{pre:!0},[s._v("[root]/docs")]),s._v(". Since the application comes with the Node Manager by default, you have access to a JSDoc documentation website that is generated by the source code comments.")]),t("p",[s._v("This folder will not be publicly accessible through the default application server routes, but can be deploy separately on another server (such as "),t("a",{attrs:{href:"https://github.blog/2016-08-22-publish-your-project-documentation-with-github-pages/"}},[s._v("Github pages")]),s._v(", or any custom server). This should be used only by developers.")]),t("h2",[s._v("Node modules")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("node_modules")]),s._v(" contains all the required dependencies of the project. This folder should never be edited and is generated when installing NPM packages. It contains the Node IoC framework, as well as its dependencies, and your own dependencies.")]),t("h2",[s._v("Resources folder")]),t("p",[s._v("The resources folder is located under "),t("code",{pre:!0},[s._v("[root]/resources")]),s._v(". Not to be confused with the source code folder ("),t("code",{pre:!0},[s._v("src")]),s._v("), the resources folder contains the application resources files, such as static files, HTML templates, etc. It does not contain any back-end related JavaScript files.")]),t("p",[s._v("However, some of those files are used by the application.")]),t("h3",[s._v("Language folder")]),t("p",[s._v("The language folder is located under "),t("code",{pre:!0},[s._v("[root]/resources/lang")]),s._v(". It contains all the translation files, with at least "),t("code",{pre:!0},[s._v("translations.yaml")]),s._v(", the default one.")]),t("h3",[s._v("Static folder")]),t("p",[s._v("The static folder is located under "),t("code",{pre:!0},[s._v("[root]/resources/static")]),s._v(". It contains any static files that can be used by your web application, such as the favicon, images, CSS, front-end JavaScript files, etc. However, the uploaded content should not go there. Those files will be tracked by Git and should be managed by the developers.")]),t("h3",[s._v("Views folder")]),t("p",[s._v("The views folder is located under "),t("code",{pre:!0},[s._v("[root]/resources/views")]),s._v(". it contains all the HTML templates for your web application. Some of them already exists by default to show an example of how the Node IoC web application templating system works.")]),t("p",[s._v("Those templates should not be used by the front-end engine, such as React or Vue.js, but only by the Node IoC back-end application.")]),t("h2",[s._v("Storage folder")]),t("p",[s._v("The storage folder is located under "),t("code",{pre:!0},[s._v("[root]/storage")]),s._v(". It contains files that should be stored by the application, but that are environment specific. It contains cached data, logs, uploaded files, SQLite databases, etc. By default, the existing folder content is not tracked by Git.")]),t("h3",[s._v("Databases storage folder")]),t("p",[s._v("The databases storage folder is located under "),t("code",{pre:!0},[s._v("[root]/storage/databases")]),s._v(". It contains all the application SQLite databases. Of course, it will not be part of the Git history.")]),t("p",[s._v("Deleting the content means that the data stored in the database is lost forever. This folder is sensitive and should be well protected.")]),t("h3",[s._v("Framework storage folder")]),t("p",[s._v("The framework storage folder is located under "),t("code",{pre:!0},[s._v("[root]/storage/framework")]),s._v(". It contains all the framework-specific files. Normally, you should not be concerned by this folder.")]),t("p",[s._v("However, it is important to know that the file cache driver uses this folder to store data into "),t("code",{pre:!0},[s._v(".json")]),s._v(" files. Deleting the files will only affect the application cache and should not break anything. However, they can be created again by the application.")]),t("h3",[s._v("Logs storage folder")]),t("p",[s._v("The logs storage folder is located under "),t("code",{pre:!0},[s._v("[root]/storage/logs")]),s._v(". All the application logs are dropped in this folder. You can delete the content anytime, but the logs will be lost. The log file driver can create files again anytime.")]),t("h3",[s._v("Uploads storage folder")]),t("p",[s._v("The uploads storage folder is located under "),t("code",{pre:!0},[s._v("[root]/storage/uploads")]),s._v(". It contains all the files that were uploaded by the application. By default, they are considered as private, but they will be publicly accessible if put into the "),t("code",{pre:!0},[s._v("[root]/storage/uploads/public")]),s._v(" folder. This behaviour can be changed anytime by changing the routes.")]),t("h2",[s._v("Tests folder")]),t("p",[s._v("The tests folder is located under "),t("code",{pre:!0},[s._v("[root]/test/")]),s._v(". It contains all the application tests, split by types.")]),t("ul",[t("li",[s._v("unit")]),t("li",[s._v("feature")]),t("li",[s._v("integration")]),t("li",[s._v("endtoend")]),t("li",[s._v("generic")])]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("unit")]),s._v(", "),t("code",{pre:!0},[s._v("feature")]),s._v(", "),t("code",{pre:!0},[s._v("integration")]),s._v(" and "),t("code",{pre:!0},[s._v("endtoend")]),s._v(" tests are all the same, except that they are namespaced by purpose and they run with different commands.")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("generic")]),s._v(" tests are all the standards tests run by the Node tester.")]),t("p",[s._v("When running "),t("code",{pre:!0},[s._v("npm test")]),s._v(", it will go through all the standards tests, and will then run all the other test types one after the other.")]),t("p",[s._v("When running "),t("code",{pre:!0},[s._v("npm run test:unit")]),s._v(", it will only run unit tests. It is true for all of the default test folders.")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("bootstrap")]),s._v(" folder should not be touched. It contains the tests bootstrapper. However, if you need to do anything regarding the application bootstrap in a test environment, feel free to do so.")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"2ba7":function(s,e,t){},3133:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Models")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},3312:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Create a command")]),t("h2",[s._v("Introduction")]),t("p",[s._v("In this first of four first step tutorials, you will create your first CLI command.")]),t("p",[s._v("For this first assignment, we will build a command that will display a book suggestion related to a given query through the "),t("a",{attrs:{href:"https://developers.google.com/books/docs/v1/using#PerformingSearch"}},[s._v("Google Books API")]),s._v(".")]),t("p",[s._v("Here are the key concepts that will be part of this tutorial:")]),t("ul",[t("li",[s._v("The "),t("code",{pre:!0},[s._v("Command")]),s._v(" class")]),t("li",[s._v("Scaffolding command with "),t("code",{pre:!0},[s._v("make:command")])]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("http")]),s._v(" service")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("terminal")]),s._v(" service (through the command methods)")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[s._v("node ioc inspire:book react\n\nFullstack React\nThe Complete Guide to ReactJS and Friends\nBy Accomazzo Anthony, Accomazzo Anthony and Ari Lerner\nPublished date: Ari Lerne\nEbook: http://books.google.ca/books?id=ppjUtAEACAAJ&dq=react&hl=&source=gbs_api\n")])]),t("h2",[s._v("Create the command class file")]),t("p",[s._v("First, we need a command class file. Node IoC offers you a command to create a command scaffold.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc make:"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("command")]),s._v(" InspireBookCommand\n")])]),t("p",[s._v("This will create a file named "),t("code",{pre:!0},[s._v("InspireBookCommand.js")]),s._v(" under the "),t("code",{pre:!0},[s._v("src/app/commands")]),s._v(" folder.\nNow that the file has been created, we need to test that it is correctly bootstrapped by the kernel.\nWe need to compile our code.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run manager:build\n")])]),t("p",[s._v("Once the code is fully compiled by the Manager, run "),t("code",{pre:!0},[s._v("node ioc")]),s._v(" command, you should see a new command called "),t("code",{pre:!0},[s._v("name:command")]),s._v(" in the list. Let's try it out!")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc name:"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("command")]),s._v("\n")])]),t("p",[s._v("You should see a console message indicating "),t("code",{pre:!0},[s._v("To be implemented...")]),s._v(".")]),t("p",[s._v("From now on, we will not need to create new files, so you can use the Manager watch command to auto-compile file on save.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run manager:watch\n")])]),t("h2",[s._v("Fill command metadata")]),t("p",[s._v("Once that the command has been created, we need to properly fill metadata, such as the name, the description, etc.")]),t("p",[s._v("First, we need to change the generic command name. Let's name it "),t("code",{pre:!0},[s._v("inspire:book")]),s._v(".\nSecond, let's adjust the command description. How about "),t("code",{pre:!0},[s._v("Find an inspiring book that matches your needs")]),s._v("?")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" name() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inspire:book'")]),s._v(";\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" description() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Find an inspiring book that matches your needs.'")]),s._v(";    \n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("Now, if you run "),t("code",{pre:!0},[s._v("node ioc")]),s._v(", you should see your new command name, followed by its new description.\nIf it's still the old name, don't forget to compile your code!")]),t("h2",[s._v("Describe arguments")]),t("p",[s._v("After this, if you take a look above on the expected result, we need to handle an argument. In the example, the argument is a "),t("code",{pre:!0},[s._v("parameter")]),s._v(", its value is "),t("code",{pre:!0},[s._v("react")]),s._v(".")]),t("blockquote",[t("p",[s._v("A "),t("strong",[s._v("parameter")]),s._v(" is a value that follows the command, without the "),t("code",{pre:!0},[s._v("--")]),s._v(" prefix, such as "),t("code",{pre:!0},[s._v("name:command parameter")]),s._v(".")]),t("p",[s._v("An "),t("strong",[s._v("option")]),s._v(" is a value that follows an option name, such as "),t("code",{pre:!0},[s._v("name:command --option=value")]),s._v(".")]),t("p",[s._v("A "),t("strong",[s._v("flag")]),s._v(" is a boolean status that is set to "),t("code",{pre:!0},[s._v("true")]),s._v(" when present, such as "),t("code",{pre:!0},[s._v("name:command --flag")]),s._v(".")])]),t("p",[s._v("To be able to receive a parameter, we need to specify it in the command through the "),t("code",{pre:!0},[s._v("parameters")]),s._v(" accessor.")]),t("p",[s._v("It should return an array of array of "),t("code",{pre:!0},[s._v("Parameter")]),s._v(" arguments, which are, in order, "),t("code",{pre:!0},[s._v("[name, isRequired, defaultValue, description]")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" parameters() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" [\n            ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The book you are searching for.'")]),s._v("]\n        ];\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("Now, you can inspect the command signature through the "),t("code",{pre:!0},[s._v("--help")]),s._v(" flag.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[s._v("node ioc inspire:book --help\n\nioc inspire:book <book>\n\nFind an inspiring book that matches your needs.\n\nOptions:\n  --help         Show help                            [boolean]\n  --version      Show version number                  [boolean]\n  -v, --verbose  Adjust the verbosity of the command    [count]\n")])]),t("p",[s._v("We can see that the "),t("code",{pre:!0},[s._v("book")]),s._v(" parameter is now handled by the console engine.")]),t("p",[s._v("Now, let's try to retrieve the parameter value in the "),t("code",{pre:!0},[s._v("handle")]),s._v(" method. You can do it with the "),t("code",{pre:!0},[s._v("parameter")]),s._v(" method. It needs the parameter name as the only argument.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" parameters() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" [\n            ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The book you are searching for.'")]),s._v("]\n        ];\n    }\n\n    handle() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".info("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parameter("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v("));\n    }\n\n}\n")])]),t("p",[s._v("When running "),t("code",{pre:!0},[s._v("node ioc inspire:book react")]),s._v(", you should see "),t("code",{pre:!0},[s._v("react")]),s._v(" logged back in the console.")]),t("h2",[s._v("Inject the "),t("code",{pre:!0},[s._v("http")]),s._v(" service")]),t("p",[s._v("Now, we have all we need to consume the "),t("a",{attrs:{href:"https://developers.google.com/books/docs/v1/using#PerformingSearch"}},[s._v("Google Books API")]),s._v(". To consume it, we need the "),t("code",{pre:!0},[s._v("http")]),s._v(" service, which allow us to make HTTP calls.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http'")]),s._v("];\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" name() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inspire:book'")]),s._v(";\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" description() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Find an inspiring book that matches your needs.'")]),s._v(";    \n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" parameters() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" [\n            ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The book you are searching for.'")]),s._v("]\n        ];\n    }\n\n    handle() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".info("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parameter("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v("));\n    }\n\n}\n")])]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("http")]),s._v(" service now bound to your class, you can use "),t("code",{pre:!0},[s._v("this.http.get(url, config)")]),s._v(".")]),t("h2",[s._v("Make the API call")]),t("p",[s._v("Now, we need to make an API call to Google Books. Since an API call takes time, we need to switch to "),t("code",{pre:!0},[s._v("async")]),s._v(" mode.\nSomply use the "),t("code",{pre:!0},[s._v("async")]),s._v(" keyword before the "),t("code",{pre:!0},[s._v("handle")]),s._v(" method to make it async. At the same time, let's make our API call.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" handle() {\n    \t"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { items } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n    \t    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n    \t    \t"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parameter("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(")\n    \t    }\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".write(items.length); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// It should print 10, the default pagination size.")]),s._v("\n    }\n\n}\n")])]),t("p",[s._v("Now that we made our API call, to inspire the user, we need to pick a random item.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" handle() {\n    \t"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { items } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n    \t    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n    \t    \t"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parameter("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(")\n    \t    }\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" item = items.sort("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(";\n        }).shift();\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".write(item); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// You should have the book model from the Google API.")]),s._v("\n    }\n\n}\n")])]),t("h2",[s._v("Format the output")]),t("p",[s._v("We now have everything we need to display that inspiring book to the user. We just need to format the final output.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" handle() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("items")]),s._v(": books } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parameter("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(")\n            }\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" [{ "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("volumeInfo")]),s._v(": { authors, infoLink, publishedDate, subtitle, title  } }] = books.sort("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(";\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" lastAuthor = authors.pop();\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" formattedAuthors = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`"),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${authors.length > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" ? "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`"),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${authors.join("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("', '")]),s._v(")}")]),s._v(" and `")]),s._v(" : "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("}")]),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${lastAuthor}")]),s._v("`")]),s._v(";\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" output = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\\n"),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${title}")]),s._v("\\n`")]),s._v(";\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (subtitle) {\n            output += "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`"),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${subtitle}")]),s._v("\\n`")]),s._v(";\n        }\n\n        output += "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`By "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${formattedAuthors}")]),s._v("\\n`")]),s._v(";\n        output += "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Published date: "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${publishedDate}")]),s._v("\\n`")]),s._v(";\n        output += "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Ebook: "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${infoLink}")]),s._v("`")]),s._v(";\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".info(output);\n    }\n\n}\n")])]),t("p",[s._v("Here is the final result with enhanced structure:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Command } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/ioc'")]),s._v(";\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Command")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http'")]),s._v("];\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" name() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inspire:book'")]),s._v(";\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" description() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Find an inspiring book that matches your needs.'")]),s._v(";\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" parameters() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" [\n            ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The book you are searching for.'")]),s._v("]\n        ];\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" handle() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" book = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".loadRandomBook();\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".info("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".getFormattedBookInfo(book));\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" loadRandomBook() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { items } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".parameter("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'book'")]),s._v(")\n            }\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" items.sort("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(";\n        }).shift();\n    }\n\n    getFormattedBookInformation({ "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("volumeInfo")]),s._v(": { authors, infoLink, publishedDate, subtitle, title } }) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" lastAuthor = authors.pop();\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" formattedAuthors = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`"),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${authors.length > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" ? "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`"),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${authors.join("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("', '")]),s._v(")}")]),s._v(" and `")]),s._v(" : "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("}")]),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${lastAuthor}")]),s._v("`")]),s._v(";\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" information = [\n        \ttitle,\n            subtitle,\n            "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`By "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${formattedAuthors}")]),s._v("`")]),s._v(",\n            "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Published date: "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${publishedDate}")]),s._v("`")]),s._v(",\n            "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Ebook: "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${infoLink}")]),s._v("`")]),s._v("\n        ];\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" information.filter("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Boolean")]),s._v(").join("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'\\n'")]),s._v(");\n    }\n\n}\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" InspireBookCommand;\n")])])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},3884:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Test class")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},4702:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Commands")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"47d0":function(s,e,t){"use strict";var a=t("f270"),r=t.n(a);r.a},4996:function(s,e,t){"use strict";var a=t("6003"),r=t.n(a);r.a},"4e40":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Database")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"50a1":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Caching")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},5306:function(s,e,t){},"565c":function(s,e,t){"use strict";var a=t("e402"),r=t.n(a);r.a},"56d7":function(s,e,t){"use strict";t.r(e);var a=t("2b0e"),r=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("main-layout",[t("router-view")],1)},n=[],o=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("off-canvas",{attrs:{name:"main-menu"},scopedSlots:s._u([{key:"offcanvas",fn:function(){return[t("div",{staticClass:"card"},[t("div",{staticClass:"card-section"},[t("h1",{staticClass:"h2 separator-center margin-vertical-1",domProps:{textContent:s._s(s.siteName)}})])]),t("sections-menu")]},proxy:!0}])},[t("top-bar"),s._t("default"),t("small-footer")],2)],1)},l=[],p=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("div",{ref:"offCanvas",staticClass:"off-canvas position-left",attrs:{id:"offcanvas-"+this.name}},[s._t("offcanvas")],2),t("div",{staticClass:"off-canvas-content",attrs:{"data-off-canvas-content":""}},[s._t("default")],2)])},v=[],i=t("1157"),c=t.n(i),_=t("e14e"),h={props:{name:String},data:function(){return{$offCanvas:null}},mounted:function(){this.$offCanvas=new _["a"].OffCanvas(c()(this.$refs.offCanvas),{transition:"overlap",contentScroll:!1})},watch:{$route:function(){this.$offCanvas&&this.$offCanvas.close()}}},d=h,u=t("2877"),m=Object(u["a"])(d,p,v,!1,null,null,null),g=m.exports,j=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("nav",[s._l(s.menus,function(e,a){return[e.children.length>0?t("div",{key:a,staticClass:"card"},[t("div",{staticClass:"card-divider"},[t("h2",{staticClass:"h6",domProps:{textContent:s._s(s.getMenuLabel(e.name))}})]),t("div",{staticClass:"card-section"},[t("ul",{staticClass:"vertical menu"},s._l(e.children,function(a){var r=a.name;return t("li",{key:r},[t("router-link",{attrs:{to:s.buildLinkFromMenu(e,r)},domProps:{textContent:s._s(s.getMenuLabel(r))}})],1)}),0)])]):s._e()]})],2)},f=[],y=[{name:"1.0",children:[{name:"getting-started",children:[{name:"installation",children:[]},{name:"directory-structure",children:[]}]},{name:"architecture",children:[{name:"lifecycle",children:[]},{name:"container",children:[]},{name:"service-provider",children:[]}]},{name:"first-steps",children:[{name:"create-a-command",children:[]},{name:"create-a-web-page",children:[]},{name:"create-an-api-endpoint",children:[]},{name:"create-a-service",children:[]}]},{name:"basics",children:[{name:"configuration",children:[]},{name:"commands",children:[]},{name:"routing",children:[]},{name:"views",children:[]}]},{name:"data",children:[{name:"database",children:[]},{name:"models",children:[]},{name:"factories",children:[]},{name:"migrations-and-seeders",children:[]},{name:"http-client",children:[]},{name:"caching",children:[]}]},{name:"going-deeper",children:[{name:"exception-handling",children:[]},{name:"events",children:[]},{name:"file-system",children:[]},{name:"helpers",children:[]},{name:"logging",children:[]},{name:"multiple-inheritance",children:[]},{name:"security",children:[]},{name:"translation",children:[]},{name:"validation",children:[]}]},{name:"tests",children:[{name:"test-commands",children:[]},{name:"test-class",children:[]}]}]}],w={computed:{locale:function(){return this.$route.params.locale},fallbackLocale:function(){return this.$i18n.fallbackLocale},locales:function(){var s=this,e={};return this.$i18n.availableLocales.filter(function(e){return e!==s.locale}).forEach(function(t){e[t]=s.getCurrentPathAlias(t)}),e},currentPathPattern:function(){var s=this;return this.$route.path.replace(this.$route.matched[this.$route.matched.length-1].regex,function(e){var t={};Object.keys(s.$route.params).forEach(function(e){t[s.$route.params[e]]=e});for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return r.reduce(function(s,e){return"pathMatch"===t[e]?s:"locale"===t[e]?s.replace(new RegExp("^/[^/]+/".concat(e,"(/.*)?$")),"$1"):s.replace(new RegExp("/".concat(e,"(/.*)?$")),"/:".concat(t[e],"$1"))},e)})},currentOriginalPathPattern:function(){var s=this.currentPathPattern,e="path.alias.".concat(s);return this.$te(e)?this.$t(e):s},currentLocalizedPath:function(){return this.getCurrentPathAlias()}},methods:{getCurrentPathAlias:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.locale,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getPathAlias(this.currentOriginalPathPattern,s,e)},getPathAlias:function(s){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.locale,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="path.original.".concat(s),r=this.formatPathFromCurrent(this.$te(a,e)?this.$t(a,e):s,e);return t?r:this.removeLocaleFromPath(r)},formatPathFromCurrent:function(s){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=this.$route.params,a=Object.keys(t).reduce(function(s,e){return s.replace(new RegExp(":".concat(e),"gu"),t[e])},s);return e?this.formatLocalePath(e,a):a},formatLocalePath:function(s,e){return"".concat(this.$router.resolve({name:"home",params:{locale:s}}).href).concat(e)},removeLocaleFromPath:function(s){return this.$i18n.availableLocales.reduce(function(s,e){return s.replace(new RegExp("^/".concat(e)),"")},s)}}},b=t("4a27"),k=t.n(b),x={methods:{getMenuLabel:function(s){var e="menu.".concat(s);return this.$te(e)?this.$t(e):isNaN(s)?k.a.sentence(s):s}}};function T(s,e){return S(s)||C(s,e)||I()}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function C(s,e){var t=[],a=!0,r=!1,n=void 0;try{for(var o,l=s[Symbol.iterator]();!(a=(o=l.next()).done);a=!0)if(t.push(o.value),e&&t.length===e)break}catch(p){r=!0,n=p}finally{try{a||null==l["return"]||l["return"]()}finally{if(r)throw n}}return t}function S(s){if(Array.isArray(s))return s}var A={mixins:[w,x],computed:{menus:function(){var s=this,e=y.filter(function(e){var t=e.name;return t===s.$route.params.version}),t=T(e,1),a=t[0];return a?a.children:y.sort(function(s,e){var t=s.name,a=e.name;return t.localeCompare(a)})[0].children}},methods:{buildLinkFromMenu:function(s){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.getPathAlias("/:version/".concat(s.name,"/").concat(e||s.children[0].name))}}},P=A,$=Object(u["a"])(P,j,f,!1,null,null,null),N=$.exports,q=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("footer",[t("license"),s._v(" "),t("copyrights"),t("span",{staticClass:"made"},[s._v("\n        "+s._s(s.$t("Made with"))+" "),t("span",{staticClass:"catch-phrase",domProps:{textContent:s._s(s.catchPhrase)}}),s._v(" "+s._s(s.$t("by"))+"\n        "),t("a",{attrs:{href:s.$t("app.author.link"),rel:"external",target:"_blank"}},[t("author-logo"),s._v("\n            "+s._s(s.$t("app.author.name"))+"\n        ")],1)])],1)},E=[],L=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",[s._v("© "+s._s(s.date))])},B=[],O={computed:{date:function(){var s=new Date,e=this.$te("app.date.since")?this.$t("app.date.since"):s.getFullYear(),t=this.$te("app.date.to")?this.$t("app.date.to"):s.getFullYear();return"".concat(e).concat(e.toString()===t.toString()||parseInt(e)>=parseInt(t)?"":"-".concat(t))}}},H=O,F=Object(u["a"])(H,L,B,!1,null,null,null),M=F.exports,D=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("a",{attrs:{href:s.$t("license.link"),target:"_blank"},domProps:{textContent:s._s(s.$t("license.type"))}})},R=[],W={},Y=Object(u["a"])(W,D,R,!1,null,null,null),z=Y.exports,U={data:function(){return{catchPhrase:""}},components:{License:z,Copyrights:M},mounted:function(){this.updateCatchPhrase()},watch:{"$route.params.locale":function(){this.updateCatchPhrase()}},methods:{updateCatchPhrase:function(){var s=this.$i18n.locale,e=this.$i18n.messages[s]||{},t=e.catchPhrases,a=void 0===t?{}:t,r=Object.values(a);this.catchPhrase=r[Math.floor(Math.random()*r.length)]}}},V=U,G=(t("47d0"),Object(u["a"])(V,q,E,!1,null,"d9383f7a",null)),J=G.exports,Q=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{ref:"topBar",staticClass:"top-bar"},[t("div",{staticClass:"top-bar-wrapper grid-container"},[t("div",{staticClass:"top-bar-left"},[t("logo")],1),t("div",{staticClass:"top-bar-right"},[t("ul",{staticClass:"menu secondary"},[s.$te("app.repository")?t("li",[t("a",{staticClass:"github-link",attrs:{href:s.$t("app.repository"),target:"_blank"}},[t("span",{staticClass:"github-text",domProps:{textContent:s._s(s.$t("View on GitHub"))}})])]):s._e(),s.versions.length>1?t("li",[t("dropdown",{attrs:{size:"tiny",options:{alignment:"right"}},scopedSlots:s._u([{key:"label",fn:function(){return[s._v(s._s(s.version))]},proxy:!0}],null,!1,547979820)},[t("ul",{staticClass:"vertical menu"},s._l(s.versions,function(e){var a=e.to,r=e.label;return t("li",{key:r},[t("router-link",{attrs:{to:a},domProps:{textContent:s._s(r)}})],1)}),0)])],1):s._e(),t("li",[t("language-switcher",{attrs:{options:{alignment:"right"}}})],1),s._m(0)])])])])},Z=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("li",{staticClass:"hide-for-large"},[t("button",{staticClass:"button offcanvas-toggle",attrs:{type:"button","data-open":"offcanvas-main-menu"}},[s._v(" ")])])}],K=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",[t("button",{staticClass:"button is-dropdown-submenu-parent",attrs:{"data-toggle":s.id,type:"button"}},[s._t("label")],2),t("div",{ref:"dropdown",staticClass:"dropdown-pane",class:s.size,attrs:{id:s.id,"data-auto-focus":"true"}},[s._t("default")],2)])},X=[],ss={data:function(){return{$dropdown:null}},computed:{id:function(){return"dropdown-".concat(this._uid)}},props:{options:{type:Object,required:!1,default:function(){return{}}},size:{type:String,required:!1,default:""}},mounted:function(){var s=Object.assign({closeOnClick:!0},this.options);this.$dropdown=new _["a"].Dropdown(c()(this.$refs.dropdown),s)}},es=ss,ts=Object(u["a"])(es,K,X,!1,null,null,null),as=ts.exports,rs=function(){var s=this,e=s.$createElement,t=s._self._c||e;return s.hasMultipleLocales?t("dropdown",{attrs:{size:"tiny",options:s.options},scopedSlots:s._u([{key:"label",fn:function(){return[s._v(s._s(s.upper(s.locale)))]},proxy:!0}],null,!1,2113421949)},[t("ul",{staticClass:"vertical menu"},s._l(s.locales,function(e,a){return t("li",{key:a},[t("router-link",{attrs:{to:e},domProps:{textContent:s._s(s.upper(a))}})],1)}),0)]):s._e()},ns=[],os={mixins:[w],components:{Dropdown:as},props:{options:{type:Object,required:!1,default:function(){return{}}}},computed:{hasMultipleLocales:function(){return Object.keys(this.locales).length>0}},methods:{upper:function(s){return s.toUpperCase()}}},ls=os,ps=Object(u["a"])(ls,rs,ns,!1,null,null,null),vs=ps.exports,is=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("router-link",{staticClass:"logo",attrs:{to:s.homePage}},[t("logo",{attrs:{alt:s.siteName}})],1)},cs=[],_s={computed:{homePage:function(){return{name:"home",params:{locale:this.$route.params.locale}}},siteName:function(){return this.$t("app.name")}}},hs=_s,ds=Object(u["a"])(hs,is,cs,!1,null,null,null),us=ds.exports,ms={components:{Dropdown:as,LanguageSwitcher:vs,Logo:us},data:function(){return{$sticky:null}},computed:{siteName:function(){return this.$t("app.name")},version:function(){return this.$route.params.version||this.$t("Ver.")},versions:function(){var s=this,e=this.$route.params.locale;return y.filter(function(e){var t=e.name;return t!==s.version}).map(function(s){var t=s.name;return{to:{name:"version",params:{locale:e,version:t}},label:t}})}},mounted:function(){this.$sticky=new _["a"].Sticky(c()(this.$refs.topBar),{stickyOn:"small",marginTop:0})}},gs=ms,js=(t("f1be"),t("ce8e"),Object(u["a"])(gs,Q,Z,!1,null,"0c1c39d7",null)),fs=js.exports,ys={components:{OffCanvas:g,SectionsMenu:N,SmallFooter:J,TopBar:fs},computed:{siteName:function(){return this.$t("app.name")}}},ws=ys,bs=(t("700d"),Object(u["a"])(ws,o,l,!1,null,null,null)),ks=bs.exports,xs={components:{MainLayout:ks}},Ts=xs,Is=Object(u["a"])(Ts,r,n,!1,null,null,null),Cs=Is.exports,Ss=t("a925"),As=function(s){return new a["a"]({render:function(e){return e(s)}}).$mount().$el.outerHTML},Ps={en:{content:{"1_0__getting_started__installation":As(t("8268").default),"1_0__getting_started__directory_structure":As(t("2831").default),"1_0__architecture__lifecycle":As(t("24e0").default),"1_0__architecture__container":As(t("7fef").default),"1_0__architecture__service_provider":As(t("5ff9").default),"1_0__first_steps__create_a_command":As(t("3312").default),"1_0__first_steps__create_a_web_page":As(t("ba86").default),"1_0__first_steps__create_an_api_endpoint":As(t("7440").default),"1_0__first_steps__create_a_service":As(t("8c81").default),"1_0__basics__configuration":As(t("5da8").default),"1_0__basics__commands":As(t("4702").default),"1_0__basics__routing":As(t("6a68").default),"1_0__basics__views":As(t("69aa").default),"1_0__data__database":As(t("4e40").default),"1_0__data__models":As(t("3133").default),"1_0__data__factories":As(t("86f7").default),"1_0__data__migrations_and_seeders":As(t("e6bc").default),"1_0__data__http_client":As(t("6e0b").default),"1_0__data__caching":As(t("50a1").default),"1_0__going_deeper__exception_handling":As(t("cac9").default),"1_0__going_deeper__events":As(t("eea3").default),"1_0__going_deeper__file_system":As(t("9d7d").default),"1_0__going_deeper__helpers":As(t("194b").default),"1_0__going_deeper__logging":As(t("e13d").default),"1_0__going_deeper__multiple_inheritance":As(t("141f").default),"1_0__going_deeper__security":As(t("18e3").default),"1_0__going_deeper__translation":As(t("d766").default),"1_0__going_deeper__validation":As(t("13f0").default),"1_0__tests__test_commands":As(t("83ab").default),"1_0__tests__test_class":As(t("3884").default)}}},$s=t("26d5");a["a"].use(Ss["a"]);var Ns={en:$s},qs=new Ss["a"]({locale:"en",fallbackLocale:"en",messages:Object.assign({},Ps)});Object.keys(Ns).forEach(function(s){var e=Ns[s].path||{};delete Ns[s].path,qs.mergeLocaleMessage(s,Ns[s]);var t={};Object.keys(e).forEach(function(s){t[e[s]]=s}),qs.mergeLocaleMessage(s,{path:{original:e,alias:t}})});var Es=qs,Ls=t("8c4f"),Bs=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("main",{staticClass:"main"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!s.isHome,expression:"!isHome"}],staticClass:"content"},[t("router-view")],1),t("div",{directives:[{name:"show",rawName:"v-show",value:s.isHome,expression:"isHome"}]},[t("home")],1)])},Os=[],Hs={computed:{isHome:function(){return"home"===this.$route.name}}},Fs=Hs,Ms=(t("c3d8"),Object(u["a"])(Fs,Bs,Os,!1,null,"a6c38ec8",null)),Ds=Ms.exports,Rs=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"grid-container"},[t("div",{staticClass:"grid-x grid-margin-x"},[t("div",{staticClass:"large-3 cell show-for-large"},[t("sections-menu")],1),t("div",{staticClass:"large-9 cell"},[t("breadcrumbs"),t("router-view")],1)])])},Ws=[],Ys=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("nav",{attrs:{"aria-label":s.$t("You are here")+":",role:"navigation"}},[t("ul",{staticClass:"breadcrumbs"},[s.breadcrumbs.length>0?t("li",[t("router-link",{attrs:{to:s.home},domProps:{textContent:s._s(s.$t("Home"))}})],1):s._e(),s._l(s.breadcrumbs,function(e,a){return t("li",{key:e.url,class:{disabled:!e.url}},[a!==s.breadcrumbs.length-1&&e.url?t("router-link",{attrs:{to:e.url},domProps:{textContent:s._s(e.label)}}):a!==s.breadcrumbs.length-1?t("span",{domProps:{textContent:s._s(e.label)}}):t("span",[t("span",{staticClass:"show-for-sr"},[s._v("Current: ")]),s._v(" "+s._s(e.label)+"\n            ")])],1)})],2)])},zs=[],Us={mixins:[x],computed:{home:function(){return{name:"home",params:{locale:this.$route.params.locale}}},breadcrumbs:function(){var s=this,e=this.$route,t=e.path,a=e.params.locale,r=t.replace(new RegExp("^(?:/)?[^/]*".concat(a,"(?<slash>/)?"),"u"),"$<slash>"),n=r.split("/").filter(Boolean);return n.map(function(e,a){var o=t.replace("".concat(r),n.slice(0,a+1).reduce(function(s,e){return"".concat(s,"/").concat(e)},"")),l=s.getMenuLabel(e);return/[0-9]\.[0-9](?:\/[\x2D0-9A-Z_a-z]+)?\/?$/.test(o)?{label:l}:{url:o,label:l}}).filter(function(e,t,a){return!a.slice(0,t-1).some(function(s){var t=s.url;return t===e.url})&&!s.$i18n.availableLocales.includes(e.label.toLowerCase())})}}},Vs=Us,Gs=Object(u["a"])(Vs,Ys,zs,!1,null,null,null),Js=Gs.exports,Qs={components:{Breadcrumbs:Js,SectionsMenu:N}},Zs=Qs,Ks=Object(u["a"])(Zs,Rs,Ws,!1,null,null,null),Xs=Ks.exports,se=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[s.content?t("div",{staticClass:"doc-content-wrapper"},[t("h1",{staticClass:"doc-title",domProps:{textContent:s._s(s.title)}}),t("hr"),s.menu&&s.menu.length>0?t("nav",[t("doc-page-menu",{attrs:{menu:s.menu}}),t("hr")],1):s._e(),t("div",{staticClass:"doc-content",domProps:{innerHTML:s._s(s.content)}})]):t("div",{staticClass:"not-found",domProps:{textContent:s._s(s.$t("error.404"))}})])},ee=[],te=t("d825"),ae=t.n(te),re="h1,h2,h3,h4,h5,h6",ne={mixins:[w,x],computed:{content:function(){var s=this.contentKey,e=this.$te(s)?this.$t(s):null;if(!e)return e;var t=c()(e);t.find("h1").remove();var a=[];return t.find(re).each(function(){var s=c()(this),e=k.a.slug(ae()(s.text())),t=e,r=1;while(a.indexOf(t)>-1)t="".concat(e,"-").concat(r++);a.push(t),s.attr("id",t)}),t.wrap("<div>").parent().html()},contentKey:function(){return"content.".concat(this.getCurrentPathAlias(this.fallbackLocale,!1).slice(1).replace(/\//g,"__").replace(/[\x2D\.]/g,"_").replace(new RegExp("^.*__".concat(this.fallbackLocale,"__")),""))},title:function(){return this.getMenuLabel(this.getCurrentPathAlias().split("/").reverse()[0])},menu:function(){var s=this.content;if(!s)return null;var e=[];return c()(s).find(re).each(function(){for(var s=c()(this),t=parseInt(this.tagName.charAt(1))-1,a=e,r=1;r<t;r++)a=a[a.length-1].children;a.push({label:s.text(),anchor:k.a.slug(ae()(s.text())),children:[]})}),e}}},oe=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ul",{staticClass:"vertical menu"},s._l(s.menu,function(e,a){return t("li",{key:a+"-"+e.anchor},[t("a",{attrs:{href:"#"+e.anchor},domProps:{textContent:s._s(e.label)}}),e.children&&e.children.length>0?t("doc-page-menu",{staticClass:"nested",attrs:{menu:e.children}}):s._e()],1)}),0)},le=[],pe={name:"doc-page-menu",props:{menu:{type:Array,required:!1,default:function(){return[]}}}},ve=pe,ie=(t("565c"),Object(u["a"])(ve,oe,le,!1,null,"038b4925",null)),ce=ie.exports,_e={mixins:[ne],components:{DocPageMenu:ce}},he=_e,de=(t("fc92"),t("cecb"),Object(u["a"])(he,se,ee,!1,null,"3234e164",null)),ue=de.exports,me=t("64f6"),ge=t.n(me),je=[{path:"".concat(ge.a,":locale"),name:"home",component:Ds,children:[{path:":version",name:"version",component:Xs,children:[{path:"*",name:"page",component:ue}]}]}],fe=function(s,e,t){var a=s.path.replace(/\/$/,"");Boolean(a)&&a!==s.path?t(a):t()},ye=function(s,e,t){s.params.locale?(Es.locale=s.params.locale,t()):t({name:"home",params:{locale:Es.fallbackLocale}})},we=function(s,e,t){if(s.params.version){var a=s.params.version;if(1===y.filter(function(s){var e=s.name;return e===a}).length)t();else{var r=Object.assign({},s);r.params.version=y.sort(function(s){var e=s.name,t=s.name;return parseFloat(t)-parseFloat(e)})[0].name,t(r)}}else t()};function be(s,e){return Te(s)||xe(s,e)||ke()}function ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function xe(s,e){var t=[],a=!0,r=!1,n=void 0;try{for(var o,l=s[Symbol.iterator]();!(a=(o=l.next()).done);a=!0)if(t.push(o.value),e&&t.length===e)break}catch(p){r=!0,n=p}finally{try{a||null==l["return"]||l["return"]()}finally{if(r)throw n}}return t}function Te(s){if(Array.isArray(s))return s}var Ie=function(s,e,t){if("version"===s.name){var a=y.filter(function(e){var t=e.name;return t===s.params.version}),r=be(a,1),n=r[0].children,o="/:version";while(n.length>0&&n[0].children.length>0){var l=n,p=be(l,1),v=p[0];n=v.children,o+="/".concat(v.name)}o+="/".concat(n[0].name);var i="path.original.".concat(o);o=Es.te(i)?Es.t(i):o,o="/".concat(s.path.split("/")[1],"/").concat(s.params.locale).concat(o.replace(":version",s.params.version)),t(o)}else t()},Ce=[fe,ye,we,Ie];a["a"].use(Ls["a"]);var Se=new Ls["a"]({mode:"history",routes:je,scrollBehavior:function(s,e,t){return t||{x:0,y:0}}});Ce.forEach(function(s){return Se.beforeEach(s)});var Ae=Se;a["a"].config.productionTip=!1;var Pe=function(s){return s(Cs)},$e=new a["a"]({i18n:Es,router:Ae,render:Pe}),Ne=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("div",{staticClass:"jumbotron",staticStyle:{"background-image":"url('https://via.placeholder.com/1920x400')"}},[t("div",{staticClass:"grid-container"},[t("div",{staticClass:"grid-x align-center text-center"},[t("div",{staticClass:"cell medium-10 large-8"},[t("h2",[s._v(s._s(s.$t("A complete NodeJS ecosystem with an elegant syntax for sparkling ideas")))]),t("router-link",{staticClass:"button",attrs:{to:s.docLink},domProps:{textContent:s._s(s.$t("Get started!"))}})],1)])])])])},qe=[],Ee={computed:{docLink:function(){return"".concat(this.$route.path,"/master")}}},Le=Ee,Be=(t("b77d"),Object(u["a"])(Le,Ne,qe,!1,null,"48886423",null)),Oe=Be.exports,He=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",{staticClass:"author-logo"})},Fe=[],Me=(t("1cba"),{}),De=Object(u["a"])(Me,He,Fe,!1,null,"0087add2",null),Re=De.exports,We=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("svg",{staticClass:"logo",attrs:{viewBox:"0 0 183.2 72.102",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{id:"svgGroup","stroke-linecap":"round","fill-rule":"evenodd",fill:"#ff5252"}},[t("path",{attrs:{d:"M 0 0.701 L 17.1 0.701 L 17.1 71.401 L 0 71.401 L 0 0.701 Z",id:"0","vector-effect":"non-scaling-stroke"}}),t("path",{attrs:{d:"M 63.727 15.978 A 34.175 34.175 0 0 0 55 14.901 A 37.45 37.45 0 0 0 51.45 15.066 A 30.484 30.484 0 0 0 40.1 18.351 Q 33.5 21.801 29.75 28.301 A 27.002 27.002 0 0 0 26.88 35.589 A 34.111 34.111 0 0 0 26 43.501 A 36.07 36.07 0 0 0 26.366 48.724 A 27.818 27.818 0 0 0 29.75 58.701 Q 33.5 65.201 40.1 68.651 A 29.26 29.26 0 0 0 46.2 71.01 A 34.326 34.326 0 0 0 55 72.101 Q 63.3 72.101 69.85 68.651 Q 76.4 65.201 80.15 58.701 A 27.002 27.002 0 0 0 83.02 51.413 A 34.111 34.111 0 0 0 83.9 43.501 A 36.07 36.07 0 0 0 83.534 38.279 A 27.818 27.818 0 0 0 80.15 28.301 Q 76.4 21.801 69.85 18.351 A 28.846 28.846 0 0 0 63.727 15.978 Z M 55 29.701 A 10.866 10.866 0 0 0 47.014 32.979 A 13.133 13.133 0 0 0 46.75 33.251 A 11.419 11.419 0 0 0 44.186 37.75 Q 43.646 39.473 43.477 41.545 A 24.098 24.098 0 0 0 43.4 43.501 A 21.48 21.48 0 0 0 43.727 47.376 Q 44.447 51.295 46.75 53.701 A 10.937 10.937 0 0 0 54.695 57.198 A 13.52 13.52 0 0 0 55 57.201 A 11.24 11.24 0 0 0 59.818 56.184 A 11.09 11.09 0 0 0 63.2 53.701 Q 65.971 50.762 66.415 45.565 A 24.266 24.266 0 0 0 66.5 43.501 A 21.763 21.763 0 0 0 66.161 39.532 Q 65.443 35.664 63.2 33.251 A 10.693 10.693 0 0 0 55.456 29.709 A 13.225 13.225 0 0 0 55 29.701 Z",id:"1","vector-effect":"non-scaling-stroke"}}),t("path",{attrs:{d:"M 158.9 26.301 L 140.8 26.301 A 17.132 17.132 0 0 0 137.144 20.666 A 16.306 16.306 0 0 0 134.65 18.601 Q 130.5 15.801 124.8 15.801 A 16.546 16.546 0 0 0 118.793 16.854 A 14.853 14.853 0 0 0 112.7 21.301 A 18.896 18.896 0 0 0 108.926 28.867 Q 108.207 31.685 108.114 35.007 A 35.611 35.611 0 0 0 108.1 36.001 A 29.816 29.816 0 0 0 108.681 42.068 Q 109.735 47.138 112.7 50.651 A 14.86 14.86 0 0 0 123.532 56.061 A 19.664 19.664 0 0 0 124.8 56.101 A 19.459 19.459 0 0 0 129.949 55.447 A 15.788 15.788 0 0 0 134.65 53.301 Q 138.8 50.501 140.8 45.701 L 158.9 45.701 A 35.36 35.36 0 0 1 154.557 56.787 A 31.418 31.418 0 0 1 147.45 64.851 A 31.619 31.619 0 0 1 133.083 71.303 A 43.745 43.745 0 0 1 125.1 72.001 Q 114.8 72.001 107 67.451 Q 99.2 62.901 94.95 54.701 A 37.854 37.854 0 0 1 91.036 41.726 A 47.512 47.512 0 0 1 90.7 36.001 A 44.326 44.326 0 0 1 91.899 25.494 A 36.472 36.472 0 0 1 94.95 17.301 Q 99.2 9.101 107 4.551 A 33.268 33.268 0 0 1 119.504 0.361 A 42.316 42.316 0 0 1 125.1 0.001 A 42.236 42.236 0 0 1 135.301 1.173 A 31.145 31.145 0 0 1 147.45 7.101 A 31.845 31.845 0 0 1 158.231 23.624 A 40.791 40.791 0 0 1 158.9 26.301 Z",id:"2","vector-effect":"non-scaling-stroke"}}),t("path",{attrs:{d:"M 165.5 54.301 L 183.2 54.301 L 183.2 71.401 L 165.5 71.401 L 165.5 54.301 Z",id:"3","vector-effect":"non-scaling-stroke"}})])])},Ye=[],ze=(t("4996"),{}),Ue=Object(u["a"])(ze,We,Ye,!1,null,"058514a8",null),Ve=Ue.exports;a["a"].component("home",Oe),a["a"].component("logo",Ve),a["a"].component("author-logo",Re),$e.$mount("#app")},"5bbc":function(s,e,t){},"5da8":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Configuration")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"5ff9":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Service provider")]),t("h2",[s._v("Introduction")]),t("p",[s._v("In Node IoC, as some other platforms do (Laravel, Angular.js, Java, .NET, etc), the main way to expose services and to be part of the bootstrapping process is through the service providers. Essentially, they act as their own module managers. They bind the services into the application, propose basic configuration, register commands, models, views, routes, controllers and other entities.")]),t("h2",[s._v("Writing service providers")]),t("p",[s._v("Writing a service provider is very simple. You can do it in two ways. The first is by creating a file containing a single service provider class that extends the "),t("code",{pre:!0},[s._v("ServiceProvider")]),s._v(" class provided by the framework.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { ServiceProvider } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/ioc'")]),s._v(";\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeServiceProvider")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("ServiceProvider")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Register the service provider.\n     */")]),s._v("\n    register() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Register the service provider.\n     */")]),s._v("\n    boot() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" SomeServiceProvider;\n")])]),t("p",[s._v("The other way requires that you have proper local configuration ("),t("code",{pre:!0},[s._v("app.env")]),s._v(" configuration must be "),t("code",{pre:!0},[s._v("local")]),s._v("). You can the use the following command:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc make:provider SomeServiceProvider\n")])]),t("p",[s._v("This will create a service provider scaffold inside "),t("code",{pre:!0},[s._v("src/app/providers")]),s._v(".")]),t("p",[s._v("All you have to do is to implement the wanted methods, "),t("code",{pre:!0},[s._v("register")]),s._v(" and "),t("code",{pre:!0},[s._v("boot")]),s._v(".")]),t("h3",[s._v("The "),t("code",{pre:!0},[s._v("register")]),s._v(" method")]),t("p",[s._v("The register method is called during the first step of the application booting process.\nWhen the application boots, it starts by registering the core service providers, that also add the configured service providers in the application to be booted.")]),t("p",[s._v("In this method, as explained a little bit earlier, you should consider that no services are available yet.")]),t("p",[s._v("You should only bind your own services in the application container to make them available to other during the booting process.")]),t("p",[s._v("You can also, if necessary, register other service providers during this phase. Nevertheless, it is a better practice to use the "),t("code",{pre:!0},[s._v("app.provider")]),s._v(" configuration to register service providers.")]),t("p",[s._v("However, since you are using the application that bootstraps the providers that bind "),t("code",{pre:!0},[s._v("event")]),s._v(", "),t("code",{pre:!0},[s._v("file")]),s._v(", "),t("code",{pre:!0},[s._v("config")]),s._v(" and "),t("code",{pre:!0},[s._v("env")]),s._v(", you can assume that they will be available. However, don't forget to check that the services exist before using them during the registering process.")]),t("p",[s._v("Considering this, the base service provider class offers a "),t("code",{pre:!0},[s._v("loadConfigFromFolder")]),s._v(" method that accepts path segments as arguments. This method will search in the given folder for any configuration file and merge them in the configuration within the repository.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { ServiceProvider }  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/ioc'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" OtherServiceProvider "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@namespace/ioc-module'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" SomeService          "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./services/SomeService'")]),s._v(";\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeServiceProvider")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("ServiceProvider")]),s._v(" ")]),s._v("{\n\n    register() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.register(OtherServiceProvider);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".loadConfigFromFolder(__dirname, "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'..'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v(");\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.bind("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'some.service'")]),s._v(", SomeService);\n    }\n\n}\n")])]),t("h3",[s._v("The "),t("code",{pre:!0},[s._v("boot")]),s._v(" method")]),t("p",[s._v("After all the service providers have been properly registered, the booting phase begins. In the same order, the service providers are booted. Those who have been registered in the application during the registering process will be put at the end of the queue.")]),t("p",[s._v("During this phase, all services are available and ready to use. You can bootstrap your own services, use other services and interact with them.")]),t("p",[s._v("An easy example would be to register custom commands. By default, the console kernel registers them for you, but if you are developing a module, for instance, you would have to register the commands manually.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { ServiceProvider } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/ioc'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" SomeCommand         "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./commands/SomeCommand'")]),s._v(";\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeServiceProvider")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("ServiceProvider")]),s._v(" ")]),s._v("{\n\n    boot() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".loadCommands([\n            SomeCommand\n        ]);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'some.service'")]),s._v(").prepare();\n    }\n\n}\n")])]),t("h2",[s._v("Registering service providers")]),t("p",[s._v("To register service providers, there are two ways to do it.")]),t("p",[s._v("The first one is by using the application "),t("code",{pre:!0},[s._v("register")]),s._v(" method. It accepts any resolvable as value (class, instance, factory or requireable string). It should be used only if necessary, like if it needs some logic before registering it.")]),t("p",[s._v("The other way to do it, considered a better practice, would be from the configuration.")]),t("p",[s._v("In your "),t("code",{pre:!0},[s._v("config")]),s._v(" folder, you can find the "),t("code",{pre:!0},[s._v("app.yaml")]),s._v(" configuration file. The "),t("code",{pre:!0},[s._v("providers")]),s._v(" key in this file contains an array of paths, each path pointing to a service provider.")]),t("p",[s._v("By default, you will have your two application service providers:")]),t("ul",[t("li",[s._v("AppServiceProvider")]),t("li",[s._v("RouteServiceProvider")])]),t("p",[s._v("The grammar used to include those files are made such as you can either fill a resolvable module, an absolute path or a relative path fro the base path of the application, prefixed by "),t("code",{pre:!0},[s._v("@/")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# config/app.yaml")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("providers:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("  -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@namespace/ioc-module'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# This module main file exposes the service provider as a default export")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("  -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/path/to/my/ServiceProvider'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("  -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/dist/node/app/providers/AppServiceProvider'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# The '@/' portion at the beginning indicates 'the application base path'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("  -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/dist/node/app/providers/RouteServiceProvider'")]),s._v("\n")])])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},6003:function(s,e,t){},"64f6":function(s,e){s.exports="/docs-node-ioc/"},"69aa":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Views")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"6a68":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Routing")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"6e0b":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("HTTP client")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"700d":function(s,e,t){"use strict";var a=t("2ba7"),r=t.n(a);r.a},7440:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Create an API endpoint")]),t("h2",[s._v("Introduction")]),t("p",[s._v("In this third assignment, we will build an API endpoint. This time, we will use the configuration repository to emulate data.")]),t("p",[s._v("This tutorial will show you how to build a basic CRUD API application to manage a classic TODO list, with the "),t("code",{pre:!0},[s._v("index")]),s._v(", "),t("code",{pre:!0},[s._v("store")]),s._v(", "),t("code",{pre:!0},[s._v("show")]),s._v(", "),t("code",{pre:!0},[s._v("update")]),s._v(" and "),t("code",{pre:!0},[s._v("destroy")]),s._v(" action.")]),t("p",[s._v("Here are the key concepts that will be part of this tutorial:")]),t("ul",[t("li",[s._v("The "),t("code",{pre:!0},[s._v("serve")]),s._v(" command")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("router")]),s._v(" service (through the routes file and a view helper function)")]),t("li",[s._v("The API routes file")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("Controller")]),s._v(" class")]),t("li",[s._v("Scaffolding controller with "),t("code",{pre:!0},[s._v("make:controller")])]),t("li",[s._v("The controller folder notation")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("config")]),s._v(" repository")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("validator")]),s._v(" service")])]),t("h2",[s._v("Launch the server")]),t("p",[s._v("First, we need to start a server.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc serve\n")])]),t("p",[s._v("This will start a new server process over port "),t("code",{pre:!0},[s._v("8080")]),s._v(". Try accessing "),t("a",{attrs:{href:""}},[s._v("http://localhost:8080")]),s._v(". You should see the default Web welcome page. If you need to change port, use the "),t("code",{pre:!0},[s._v("--port=8080")]),s._v(" option, with the wanted port.")]),t("p",[s._v("To develop faster, Node IoC provides a daemon feature that will relaunch the server on file change.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc serve --daemon\n")])]),t("p",[s._v("Once the server has started, we can, in another terminal, run the Node Manager "),t("code",{pre:!0},[s._v("watch")]),s._v(" command.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run manager:watch\n")])]),t("p",[s._v("Now, we are ready to create our first Web page!")]),t("h2",[s._v("Create the "),t("code",{pre:!0},[s._v("index")]),s._v(" route")]),t("p",[s._v("Then, we need our API routes. They are located in the "),t("code",{pre:!0},[s._v("src/routes/api.js")]),s._v(" file.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router) => {\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The original comments were stripped out for easier readability.")]),s._v("\n\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/app'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'AppController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app.index'")]),s._v(");\n};\n")])]),t("p",[s._v("It's important to notice that the key difference between this file and the "),t("code",{pre:!0},[s._v("web.js")]),s._v(" routes file is that all the routes in the "),t("code",{pre:!0},[s._v("api.js")]),s._v(" file are prefixed by "),t("code",{pre:!0},[s._v("/api")]),s._v(" by default. So, the "),t("code",{pre:!0},[s._v("/app")]),s._v(" route here is in fact a route that matches "),t("code",{pre:!0},[s._v("/api/app")]),s._v(" URL.")]),t("p",[s._v("Let's add our first custom route. It should point to "),t("code",{pre:!0},[s._v("/todo")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/app'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'AppController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app.index'")]),s._v(");\n\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/todo'")]),s._v(", (request, response) => {\n        response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'My first API endpoint'")]),s._v(");\n    });\n};\n")])]),t("p",[s._v("If you access to "),t("a",{attrs:{href:""}},[s._v("http://localhost:8080/api/todo")]),s._v(", you should see "),t("code",{pre:!0},[s._v("My first API endpoint")]),s._v(".")]),t("p",[s._v("However, since we are working with API endpoint, it is strongly suggested that you use an appropriate tool. We recommend using "),t("a",{attrs:{href:"https://www.getpostman.com/downloads/"}},[s._v("Postman")]),s._v(", or any API consumer tool. You must be able to easily switch HTTP method and set request body.")]),t("h2",[s._v("Create the controller")]),t("p",[s._v("As we saw earlier in the previous tutorial, a "),t("code",{pre:!0},[s._v("Controller")]),s._v(" is needed to clearly separate our logic from the routes.")]),t("p",[s._v("We also learned a useful command that create a controller class file for us, called "),t("code",{pre:!0},[s._v("make:command")]),s._v(".")]),t("p",[s._v("Let's check its signature through the "),t("code",{pre:!0},[s._v("--help")]),s._v(" flag.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[s._v('node ioc make:controller --help\n\nioc make:controller <class>\n\nCreate a controller class.\n\nOptions:\n  --help         Show help                                                                                     [boolean]\n  --version      Show version number                                                                           [boolean]\n  -v, --verbose  Adjust the verbosity of the command                                                             [count]\n  --destination  File destination.                                                              [string] [default: null]\n  --resource     Generate a resource controller class.                                                         [boolean]\n  --api          Generate an API resource controller class, without "create" and "edit" actions.               [boolean]\n  --handler      Generate a single method handler controller class.                                            [boolean]\n')])]),t("p",[s._v("As we can see, there is some custom flags, such as "),t("code",{pre:!0},[s._v("resource")]),s._v(", "),t("code",{pre:!0},[s._v("api")]),s._v(" and "),t("code",{pre:!0},[s._v("handler")]),s._v(". Each one of them indicates to create a specific type of controller. In our case, we need an API controller, which implements the API CRUD methods that we want to inmplement.")]),t("p",[s._v("Let's make our API controller, called "),t("code",{pre:!0},[s._v("TodoController")]),s._v(". And let's put it in a subfolder called "),t("code",{pre:!0},[s._v("api")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc make:controller api/TodoController --api\n")])]),t("p",[s._v("This will automatically create a folder called "),t("code",{pre:!0},[s._v("api")]),s._v(", if it did not exist, and create the "),t("code",{pre:!0},[s._v("TodoController")]),s._v(" file in this location. With the "),t("code",{pre:!0},[s._v("--api")]),s._v(" flag, we indicate that we need a different scaffold. Here what your new controller, located under "),t("code",{pre:!0},[s._v("src/app/http/controllers/api/TodoController")]),s._v(" looks like.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Display a listing of the resource.\n     *\n     * @returns {response} The response.\n     */")]),s._v("\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Store a newly created resource.\n     *\n     * @returns {response} The response.\n     */")]),s._v("\n    store() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Display the specified resource.\n     *\n     * @returns {response} The response.\n     */")]),s._v("\n    show() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Update the specified resource.\n     *\n     * @returns {response} The response.\n     */")]),s._v("\n    update() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Remove the specified resource.\n     *\n     * @returns {response} The response.\n     */")]),s._v("\n    destroy() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n}\n")])]),t("p",[s._v("Very cool, isn't it? Now, all we need to do is associate our route to our newly created controller.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/app'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'AppController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app.index'")]),s._v(");\n\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/todo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'api.TodoController@index'")]),s._v(");\n};\n")])]),t("p",[s._v("The folders are dotted separated in a controller. It is treated the same as a service, which all follow the dotted syntax.")]),t("p",[s._v("Finally, let's return a response in our "),t("code",{pre:!0},[s._v("index")]),s._v(" action in our controller.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'My first JSON response'")]),s._v(");\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("Notice that we used the "),t("code",{pre:!0},[s._v("json")]),s._v(" method. It accepts any JSON serializable value and handle all the formatting for you. no need to "),t("code",{pre:!0},[s._v("JSON.stringify")]),s._v(" anymore.")]),t("p",[s._v("If you access the endpoint, you should now see "),t("code",{pre:!0},[s._v('"My first JSON response"')]),s._v(", as an "),t("code",{pre:!0},[s._v("application/json")]),s._v(" content type (notice the double quotes).")]),t("h3",[s._v("Create the other routes")]),t("p",[s._v("Now that we have a fully functional controller bound to a route, we should be able to create the other routes.")]),t("p",[s._v("Let's create our "),t("code",{pre:!0},[s._v("store")]),s._v(" route, the one that should create an entity.")]),t("p",[s._v("For the following routes, we will follow the "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Representational_state_transfer#Relationship_between_URI_and_HTTP_methods"}},[s._v("REST nomenclature")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/todo'")]),s._v(",          "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'api.TodoController@index'")]),s._v(");\n    router.post("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/todo'")]),s._v(",         "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'api.TodoController@store'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/todo/:todo'")]),s._v(",    "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'api.TodoController@show'")]),s._v(");\n    router.patch("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/todo/:todo'")]),s._v(",  "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'api.TodoController@update'")]),s._v(");\n    router.delete("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/todo/:todo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'api.TodoController@destroy'")]),s._v(");\n};\n")])]),t("p",[s._v("Those routes are the basic ones for any RESTful API architecture. Since it happen too often, two special method from the "),t("code",{pre:!0},[s._v("router")]),s._v(" service was created, called "),t("code",{pre:!0},[s._v("resource")]),s._v(" and "),t("code",{pre:!0},[s._v("apiResource")]),s._v(".")]),t("p",[s._v("What they do is basically the same as we did, but automatically.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router) => {\n    router.apiResource("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'api.TodoController'")]),s._v(");\n};\n")])]),t("p",[s._v("Much cleaner, isn't it? All we need to send to the "),t("code",{pre:!0},[s._v("resource")]),s._v(" or the "),t("code",{pre:!0},[s._v("apiResource")]),s._v(" method is the current resource name, which will be present in the URL, and the resource controller that will handle the requests.")]),t("p",[s._v("The key difference between a "),t("code",{pre:!0},[s._v("resource")]),s._v(" and an "),t("code",{pre:!0},[s._v("apiResource")]),s._v(" (which will be reflected in the "),t("code",{pre:!0},[s._v("make:controller")]),s._v("'s "),t("code",{pre:!0},[s._v("--resource")]),s._v(" and "),t("code",{pre:!0},[s._v("--api")]),s._v(") is that the "),t("code",{pre:!0},[s._v("resource")]),s._v(" has two additional routes: "),t("code",{pre:!0},[s._v("create")]),s._v(" ("),t("code",{pre:!0},[s._v("/resource/create")]),s._v(") and "),t("code",{pre:!0},[s._v("edit")]),s._v(" ("),t("code",{pre:!0},[s._v("/resource/:id/edit")]),s._v("). They are not present in an API resource since they should return a creation or an edition form, which does not make sense in an API.")]),t("h2",[s._v("Implement the "),t("code",{pre:!0},[s._v("index")]),s._v(" action")]),t("p",[s._v("To make our first CRUD application works, we need some data. We could set up a local database, but let's keep it simple for now.")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("config")]),s._v(" repository can be very helpful to handle application configuration through the framework modules, our own implementation, and also for third parties. But let's use it another way: as a runtime database.")]),t("p",[s._v("First, we need to inject the "),t("code",{pre:!0},[s._v("config")]),s._v(" repository in our controller.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v("];\n    }\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app.name'")]),s._v("));\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("You should now see the application name instead of our placeholder sentence.")]),t("h3",[s._v("The "),t("code",{pre:!0},[s._v("config")]),s._v(" service")]),t("p",[s._v("The configuration repository is one of the most useful ones. It allows to use configuration to drive our entire application through "),t("code",{pre:!0},[s._v("yaml")]),s._v(" files. It offers some methods, such as "),t("code",{pre:!0},[s._v("get")]),s._v(", "),t("code",{pre:!0},[s._v("set")]),s._v(", "),t("code",{pre:!0},[s._v("has")]),s._v(", "),t("code",{pre:!0},[s._v("merge")]),s._v(", etc. The files in the "),t("code",{pre:!0},[s._v("config")]),s._v(" folder act like namespaces: the "),t("code",{pre:!0},[s._v("app.name")]),s._v(" key can be found in the "),t("code",{pre:!0},[s._v("app.yaml")]),s._v(" file, under the "),t("code",{pre:!0},[s._v("name")]),s._v(" YAML key. The configuration repository accepts "),t("code",{pre:!0},[s._v(".yaml")]),s._v(", "),t("code",{pre:!0},[s._v(".yml")]),s._v(", "),t("code",{pre:!0},[s._v(".js")]),s._v(" and "),t("code",{pre:!0},[s._v(".json")]),s._v(" files to retrieve default configuration (however, your JavaScript ile must be written in CommonJS syntax, with "),t("code",{pre:!0},[s._v("module.exports")]),s._v(").")]),t("h3",[s._v("Return a todo list")]),t("p",[s._v("Let's return the todo list. It will be empty at first, but will be filled when we will implement the other CRUD methods.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The second argument is the default value")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todos);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("This will return an empty array. But let's try to populate it manually to see how it reacts in a runtime environment.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []).concat([{ "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'My first todo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" }]);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", todos);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todos);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("If you reload the page, you should see "),t("code",{pre:!0},[s._v('[{"name":"My first todo","done":false}]')]),s._v(". But try to reload it another time. Now, you have two todos, "),t("code",{pre:!0},[s._v('[{"name":"My first todo","done":false},{"name":"My first todo","done":false}]')]),s._v(". The configuration keeps the result in cache the whole time the application runs.")]),t("p",[s._v("Now that we can assert that the configuration repository works, let's put the controller back the way it was.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todos);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("h3",[s._v("Implement the "),t("code",{pre:!0},[s._v("store")]),s._v(" action")]),t("p",[s._v("The first action that will interact with our data is the "),t("code",{pre:!0},[s._v("store")]),s._v(" action. Its role is to create a new entity. We need to use the "),t("code",{pre:!0},[s._v("POST")]),s._v(" HTTP method.")]),t("p",[s._v("Let's try with Postman, with the following url: "),t("code",{pre:!0},[s._v("http://localhost:8080/api/todo")]),s._v(" with the "),t("code",{pre:!0},[s._v("POST")]),s._v(" HTTP method, and let's return fake JSON response in the "),t("code",{pre:!0},[s._v("store")]),s._v(" controller action.")]),t("blockquote",[t("p",[s._v("In order to trap errors in JSON response instead of HTML, your request must have the "),t("code",{pre:!0},[s._v("Accept: application/json")]),s._v(" header.")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    store() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Storing new todo'")]),s._v(");\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("The two actions refers to the same URL, but with a different HTTP method, "),t("code",{pre:!0},[s._v("GET")]),s._v(" for "),t("code",{pre:!0},[s._v("index")]),s._v(", and "),t("code",{pre:!0},[s._v("POST")]),s._v(" form "),t("code",{pre:!0},[s._v("store")]),s._v(".\nIf you try to send a "),t("code",{pre:!0},[s._v("POST")]),s._v(" request to the "),t("code",{pre:!0},[s._v("/api/todo")]),s._v(" URL, you should see "),t("code",{pre:!0},[s._v('"Storing new todo"')]),s._v(" instead of "),t("code",{pre:!0},[s._v("[]")]),s._v(".")]),t("p",[s._v('This action normally expects that it receives a body containing the Todo data to be stored. Let\'s establish a "todo" model for the backend side.')]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"id"')]),s._v(":    "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"number"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"label"')]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"string"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"done"')]),s._v(":  "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"boolean"')]),s._v("\n}\n")])]),t("p",[s._v("However, the user only have to specify the "),t("code",{pre:!0},[s._v("label")]),s._v(" field, since it will not be done, and the ID is generated by the server.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"label"')]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"string"')]),s._v("\n}\n")])]),t("p",[s._v("Let's send this body to the "),t("code",{pre:!0},[s._v("store")]),s._v(" action endpoint.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"label"')]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"My first todo"')]),s._v("\n}\n")])]),t("p",[s._v("In the controller, we now need to retrieve the body.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    store() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.body);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("You should see the whole request body in the response.")]),t("p",[s._v("Now, let's create a todo.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    store() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos      = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" previousId = (todos[todos.length - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("] || {}).id || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = {\n        \t...this.request.body,\n        \t"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": previousId + "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(",\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n        };\n\n        todos.push(todo);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", todos);        \n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("It should add a new todo each time you make the request, with an incrementing ID.")]),t("h3",[s._v("Validate data")]),t("p",[s._v("We missed a very important part: validation. We are assuming that the received body will match our expected model, but "),t("code",{pre:!0},[s._v("label")]),s._v(" may be an object, or we could have another unexpected key.")]),t("p",[s._v("We can use the "),t("code",{pre:!0},[s._v("validate")]),s._v(" method in the controller to validate the current request body.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    store() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos      = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" previousId = (todos[todos.length - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("] || {}).id || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".validate("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("validator")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": validator.string().min("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\n            }; \n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = {\n        \t...this.request.body,\n        \t"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": previousId + "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(",\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n        };\n\n        todos.push(todo);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", todos);        \n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("validate")]),s._v(" method accepts a callback that is used to validate each request body key against a validator schema.")]),t("p",[s._v("The default validator is the well-known "),t("a",{attrs:{href:"https://hapi.dev/family/joi/"}},[s._v("@hapi/joi")]),s._v(" validation package. You can use all the available methods and schema types.")]),t("p",[s._v("Here we validate that the body contains (and contains only) a label that is a string with minimum length of 3 characters.")]),t("p",[s._v("Now, create a todo, then go to the index endpoint. Your todo should be there.")]),t("h2",[s._v("Implement the "),t("code",{pre:!0},[s._v("show")]),s._v(" action")]),t("p",[s._v("The show action is normally used to display a single resource item. In our case, we should return the requested todo by ID.")]),t("p",[s._v("The route URL schema is "),t("code",{pre:!0},[s._v("/api/todo/:todo")]),s._v(". Notice the last segment, which contains "),t("code",{pre:!0},[s._v(":")]),s._v(". It indicates that this segment is a variable that can be retrieved.")]),t("p",[s._v("You can retrieve the route parameter in the controller through "),t("code",{pre:!0},[s._v("this.request.params")]),s._v(". In our case, it would be "),t("code",{pre:!0},[s._v("this.reques.t.params.todo")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    show() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("todo")]),s._v(": id } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params;\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId.toString() === id.toString();\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!todo) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("Here, we retrieve the requested todo ID. Then, we attempt to retrieve the corresponding todo. With a database, we would have used "),t("code",{pre:!0},[s._v("where")]),s._v(" and "),t("code",{pre:!0},[s._v("first")]),s._v(" statements.")]),t("p",[s._v("We used the ID as matcher, and we converted them to string to keep strict equality check (most backend developers like type tests and casting, let's use it too, even with a weakly-typed language)")]),t("p",[s._v("Interesting fact, you can send a "),t("code",{pre:!0},[s._v("404 Not Found.")]),s._v(" very easily with the "),t("code",{pre:!0},[s._v("notFound")]),s._v(" method, but in a local environment, it converts to a "),t("code",{pre:!0},[s._v("NotFoundHttpError")]),s._v(" page, which is great for testing. If you are not in a local environment, the real 404 page or JSON response will show up.")]),t("p",[s._v("To be able to display a todo, ensure that your todo list contains the requested todo. Friendly reminder that each time the server is stopped, the data disappear and you have to created them again.")]),t("h2",[s._v("Implement the "),t("code",{pre:!0},[s._v("update")]),s._v(" action")]),t("p",[s._v("Now, we can start updating an existing todo. We should allow to update the label, but the done status as well.\nThe route to consume this API action is "),t("code",{pre:!0},[s._v("/api/todo/:todo")]),s._v(" with the "),t("code",{pre:!0},[s._v("PATCH")]),s._v(" HTTP method.")]),t("p",[s._v("Here is the accepted schema")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"label"')]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"string|optional"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"todo"')]),s._v(":  "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"boolean|optional"')]),s._v("\n}\n")])]),t("p",[s._v("Let's implement it, with validation of course!")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    update() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("todo")]),s._v(": id } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params;\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId.toString() === id.toString();\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!todo) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n        \n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".validate("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("validator")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": validator.string().optional(),\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(":  validator.boolean().optional()\n            };\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".assign(todo, "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.body);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", todos);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("h2",[s._v("Implement "),t("code",{pre:!0},[s._v("destroy")]),s._v(" action")]),t("p",[s._v("Let's finally delete a todo.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    destroy() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("todo")]),s._v(": id } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params;\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todoIndex = todos.findIndex("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId.toString() === id.toString();\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (todoIndex === "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(") {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        todos.splice(todoIndex, "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".noContent();\n    }\n\n}\n")])]),t("p",[s._v("To indicate that the content was deleted and nothing remains of it, a "),t("code",{pre:!0},[s._v("204 No Content.")]),s._v(" is returned.")]),t("p",[s._v("Here is the final result:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Controller "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../Controller'")]),s._v(";\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v("];\n    }\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []));\n    }\n\n    store() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos      = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" previousId = (todos[todos.length - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("] || {}).id || "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".validate("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("validator")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": validator.string().required()\n            };\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = {\n            ...this.request.body,\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": previousId + "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(",\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n        };\n\n        todos.push(todo);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", todos);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    show() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("todo")]),s._v(": id } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params;\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId.toString() === id.toString();\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!todo) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    update() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("todo")]),s._v(": id } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params;\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId.toString() === id.toString();\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!todo) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".validate("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("validator")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": validator.string().optional(),\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(":  validator.boolean().optional()\n            };\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".assign(todo, "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.body);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", todos);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    destroy() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("todo")]),s._v(": id } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params;\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".config.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", []);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todoIndex = todos.findIndex("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId.toString() === id.toString();\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (todoIndex === "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(") {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        todos.splice(todoIndex, "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".noContent();\n    }\n\n}\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" TodoController;\n")])]),t("p",[s._v("Of course, all we did was a small CRUD todo application through a RESTful API, but you saw how to do it the "),t("em",[s._v("simple")]),s._v(" way.")]),t("p",[s._v("We could have gone deeper by creating a service that handles all this process, to have a better separation of concern...")]),t("p",[s._v("That's your next assignment!")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"7fef":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Container")]),t("h2",[s._v("Introduction")]),t("p",[s._v("In any IoC application, the Container is the central point of action when it comes to dependency resolving. Its role is to store the different bindings, to resolve those bindings, to manage the dependency injection process, etc. Node IoC makes no exception about this and offers all the basic features a container should provide.")]),t("p",[s._v("The container is in fact the base class of the application. You can directly use the container features through the application.")]),t("h2",[s._v("Bindings and singletons")]),t("p",[s._v("First, the container offers two main methods to bind elements: the "),t("code",{pre:!0},[s._v("bind")]),s._v(" and the "),t("code",{pre:!0},[s._v("singleton")]),s._v(" methods.")]),t("p",[s._v("When using "),t("code",{pre:!0},[s._v("bind")]),s._v(", we associate an abstract (a string) to a concrete (a class, a factory, an instance, a primitive type value, etc.). If a value was already bind with the same abstract, it is overwritten at this moment. When making the abstract, the concrete is resolved. The resolving algorithm is describe below.")]),t("p",[s._v("When using "),t("code",{pre:!0},[s._v("singleton")]),s._v(", the same thing happen. The key difference is that when making the instance, the first made instance will be stored as a singleton and returned each time the container is asked to make this abstract instead of making the instance every time.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeServiceProvider")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("ServiceProvider")]),s._v(" ")]),s._v("{\n\n    register() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.bind("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Foo'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The 'foo' abstract will result in 'Foo' as concrete.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.bind("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v(", { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("key")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'value'")]),s._v(" }); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The 'bar' abstract will result in the object as concrete.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.bind("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'baz'")]),s._v(", () => { "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The 'baz' abstract will result in a newly created object each time it will be made.")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("key")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'value'")]),s._v(" };\n        });\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.bind("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'qux'")]),s._v(", QuxService); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The 'qux' abstract will result in a QuxService instance.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.singleton("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v(", SomeService); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The 'once' abstract will result in a SOmeService instance, but if made twice, the same instance will be returned both time.")]),s._v("\n    }\n\n    boot() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v(") === "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v(")); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true, since the concrete is an object.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'baz'")]),s._v(") === "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'baz'")]),s._v(")); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// false, the closure is called twice to create two distinct objects that serialize to the same string.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'qux'")]),s._v(") === "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'qux'")]),s._v(")); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// false, the class will is instantiated twice.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'qux'")]),s._v(").constructor === "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'qux'")]),s._v(").constructor); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true, the class remains the same for all the instances.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v(") === "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v(")); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true, 'once' is treated as a singleton and will not be instantiated twice, except if specified.")]),s._v("\n    }\n\n}\n")])]),t("h2",[s._v("Resolve abstracts")]),t("h3",[s._v("The "),t("code",{pre:!0},[s._v("make")]),s._v(" method")]),t("p",[s._v("When binding an concrete to an abstract, it is to be resolved by another entity through the container.")]),t("p",[s._v("The container offers a simple method to get the concrete from an abstract: "),t("code",{pre:!0},[s._v("make")]),s._v(". It accepts the abstract name as an argument and will process everything for us, from the resolving to the instantiation with dependency injection.")]),t("p",[s._v("If you have bound "),t("code",{pre:!0},[s._v("{ key: 'value' }")]),s._v(" to the "),t("code",{pre:!0},[s._v("bar")]),s._v(" abstract, then "),t("code",{pre:!0},[s._v("app.make('bar')")]),s._v(" will results in "),t("code",{pre:!0},[s._v("{ key: 'value' }")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'some.service'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// SomeService {}")]),s._v("\n")])]),t("p",[s._v("You can make any bound abstract and the container will resolve it for you.")]),t("p",[s._v("However, if you need to use all the rich container features when it comes to instantiation, you can use the "),t("code",{pre:!0},[s._v("make")]),s._v(" method with a concrete instead of an abstract.")]),t("p",[s._v("If you have a "),t("code",{pre:!0},[s._v("SomeService")]),s._v(" class that you need to instantiate on the fly, simply make it, it will returns you a "),t("code",{pre:!0},[s._v("SomeService")]),s._v(" instance by following all the resolving steps.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("app.make(SomeService); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// SomeService {}")]),s._v("\n")])]),t("p",[s._v("To push it further more, let's say that you have a singleton of the "),t("code",{pre:!0},[s._v("once")]),s._v(" abstract. Making "),t("code",{pre:!0},[s._v("once")]),s._v(" twice will not create a new instance. If you need another one regardless of the binding state, you could do something like "),t("code",{pre:!0},[s._v("app.make(app.make('once').constructor)")]),s._v(". It will create a new instance of the "),t("code",{pre:!0},[s._v("once")]),s._v(" concrete class.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("app.singleton("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v(", SomeService);\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" once = app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// SomeService {}")]),s._v("\nonce === app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" other = app.make(app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v(").constructor); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// SomeService {}")]),s._v("\nonce === other; "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// false")]),s._v("\n")])]),t("h3",[s._v("The "),t("code",{pre:!0},[s._v("resolve")]),s._v(" method")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("resolve")]),s._v(" method does the same thing as the "),t("code",{pre:!0},[s._v("make")]),s._v(" method. If the given abstract should be a singleton, it will be stored as a singleton. However, it won't consider the singleton when resolving the abstract, so don't expect to receive the same concrete twice.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("app.singleton("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v(", SomeService);\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" once = app.resolve("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// SomeService {}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" other = app.resolve("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// SomeService {}")]),s._v("\nonce === other; "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// false")]),s._v("\nonce === app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'once'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true, the first instance will still be kept as a singleton")]),s._v("\n")])]),t("h2",[s._v("Aliases")]),t("p",[s._v("Aliasing an abstract can be useful to keep simple abstract names, while still having the binding secured with a namespaced abstract.")]),t("p",[s._v("Let's say that you have a binding called "),t("code",{pre:!0},[s._v("namespace.foo.bar.baz")]),s._v(" and you want to have it available with "),t("code",{pre:!0},[s._v("baz")]),s._v(". Simply call "),t("code",{pre:!0},[s._v("app.alias('baz', 'namespace.foo.bar.baz')")]),s._v(". When making "),t("code",{pre:!0},[s._v("baz")]),s._v(", the "),t("code",{pre:!0},[s._v("namespace.foo.bar.baz")]),s._v(" concrete will be returned. It still handle singleton as it would be with the original abstract.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("app.singleton("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(", SomeService);\napp.alias("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(");\napp.alias("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'baz'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v(");\napp.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(") === app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\napp.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(") === app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'baz'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n")])]),t("h2",[s._v("Decorators")]),t("p",[s._v("Decorators are a very effective way to enhance the available features within a class instance. In Node IoC, the decorators are simply closures in which we transform the value to either a new one, or in the same one with enhanced or transformed behavior. It acts the same way as a reducer, so you must return a value at the end of the decorator.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("app.bind("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(", SomeService);\napp.decorate("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(", (someService) => {\n    someService.prepareSomething();\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" someService;\n});\napp.decorate("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(", (someService) => {\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" SomeServiceDecorator(someService);\n});\n")])]),t("h2",[s._v("Tags")]),t("p",[s._v("Tagging is a feature that allows abstract grouping. In OOP, with interfaces, it is usually used to group concretes that share the same interface.")]),t("p",[s._v("The best example would be loggers: one that logs into a file and another that logs through ElasticSearch. Both of them exposes the same API that returns the same value types but are implement in two different ways.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("app.singleton("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'logger.file'")]),s._v(", FileLogger);\napp.singleton("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'logger.elasticsearch'")]),s._v(", ElasticSearchLogger);\napp.tag(["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'logger.file'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'logger.elasticsearch'")]),s._v("], "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'loggers'")]),s._v(");\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" loggers = app.make("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'loggers'")]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/*\n * It returns a dictionary that pairs abstract to resolved concretes attached to the resolved tag.\n *\n * {\n *     'logger.file':          FileLogger {},\n *     'logger.elasticsearch': ElasticSearchLogger {}\n * }\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".values(loggers).map("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" (logger) => {\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" logger.log("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Something to log'")]),s._v(");\n});\n")])]),t("h2",[s._v("Dependency injection")]),t("p",[s._v("The most powerful tool in the Node IoC container is the dependency injection system. It was mostly inspired by the "),t("a",{attrs:{href:"https://docs.angularjs.org/guide/di#-inject-property-annotation"}},[s._v("Angular.js")]),s._v(" dependency injection approach in term of usage, but some magic was added to the recipe for easier user-end implementation.")]),t("p",[s._v("To request dependencies in a class instance, you must implement a static getter called "),t("code",{pre:!0},[s._v("dependencies")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeService")]),s._v("  ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v("]\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("(...parameters) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(parameters);\n    }\n\n}\n\napp.make(SomeService); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// console -> [Application {}, ConfigRepository {}]")]),s._v("\n\n")])]),t("p",[s._v("If a dependency cannot be resolved, it will throw an error.")]),t("p",[s._v("This is where the "),t("code",{pre:!0},[s._v("make")]),s._v(" and the "),t("code",{pre:!0},[s._v("resolve")]),s._v(" methods adds a new feature: dependency injection overwriting.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeService")]),s._v("  ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v("];\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("(...parameters) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(parameters);\n    }\n\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("FakeConfigRepository")]),s._v(" ")]),s._v("{} "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// To be implemented...")]),s._v("\n\n\napp.make(SomeService, {\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("config")]),s._v(": app.make(FakeConfigRepository)\n}); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// console -> [Application {}, FakeConfigRepository {}]")]),s._v("\n")])]),t("p",[s._v("When overwriting dependency injection, the required dependency concrete bound in the container will not be instantiated.")]),t("p",[s._v("The fun part is that the container automatically binds the different injected concrete in the class instance as accessors. the name is transformed to a "),t("code",{pre:!0},[s._v("camelCase")]),s._v(" representation of the abstract.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeService")]),s._v("  ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'router.handler'")]),s._v("];\n    }\n\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" someService = app.make(SomeService);\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(someService.app);          "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Application {}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(someService.config);       "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ConfigRepository {}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(someService.routerHander); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Handler {}")]),s._v("\n")])]),t("p",[s._v("It also bind the application to the instance with the "),t("code",{pre:!0},[s._v("[@absolunet/private-registry](https://github.com/absolunet/node-private-registry)")]),s._v(" library.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" __ "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/private-registry'")]),s._v(";\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("SomeService")]),s._v("  ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'router.handler'")]),s._v("];\n    }\n\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" someService = app.make(SomeService);\n__(someService).get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'app'")]),s._v(");            "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Application {}")]),s._v("\n__(someService).get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v(");         "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ConfigRepository {}")]),s._v("\n__(someService).get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'router.handler'")]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Handler {}")]),s._v("\n")])]),t("h2",[s._v("Resolving algorithm")]),t("p",[s._v("The main resolving algorithm handle all the previously described features, but has much more power under the hood.")]),t("ul",[t("li",[s._v("Abstract resolution")]),t("li",[s._v("Tag resolution")]),t("li",[s._v("Alias resolution")]),t("li",[s._v("Concrete resolution")]),t("li",[s._v("File path resolution (through "),t("code",{pre:!0},[s._v("require()")]),s._v(")")]),t("li",[s._v("Class instantiation")]),t("li",[s._v("Factory call")]),t("li",[s._v("Object extension")]),t("li",[s._v("Concrete decoration")]),t("li",[s._v("Singleton management")])]),t("p",[s._v("First, when trying to make a concrete from either an abstract or an object, the contains checks if a singleton exists with the given abstract name. If the abstract is not a string, it will always return a fresh instance. If a singleton exists, it is returned without going any further.")]),t("p",[s._v("If a singleton is not found, then the concrete is resolved.")]),t("p",[s._v("To resolve the concrete, it starts by checking if the given abstract is bound to the container, either as an abstract or as an alias. If it is the case, the concrete is retrieve, along with a singleton flag.")]),t("p",[s._v("Otherwise, if the abstract is a valid tag, the tagged concrete are resolve through the same process within a loop to resolve all the tagged abstracts.")]),t("p",[s._v("Otherwise, if the abstract is a string, it assumes that it must be either a path or a module that is requireable. It attempts to require it.")]),t("p",[s._v("Otherwise, the abstract is considered a concrete.")]),t("p",[s._v("Then, when a concrete has been found, it builds it by following those rules:")]),t("ul",[t("li",[s._v("If it is a class or a regular function, it returns a new instance with dependency injection, if present.")]),t("li",[s._v("Otherwise, if it is a function, it calls it and return the received value.")]),t("li",[s._v("Otherwise, it treats it as an object and merge the dependency overwrites in it, if provided.")])]),t("p",[s._v("Now that the build has been done, all the decorators, in order of bindings, decorates the built instance.")]),t("p",[s._v("After the final object has been created, if the abstract was bound as a singleton, the object is stored in order to be retrieved later.")]),t("p",[s._v("Finally, the instance is returned.")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},8268:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Installation")]),t("h2",[s._v("Server requirements")]),t("p",[s._v("The Node IoC has some basic server requirements. You need to have a globally installed Node.js binary at version "),t("code",{pre:!0},[s._v(">= 12")]),s._v(".\nIt was tested on Nginx 1.16.1, as well as on Apache 2.0. It was also tested locally on a Windows 10 distribution, but nothing has been tested on a Windows IIS server yet.")]),t("p",[s._v("You will also need NPM at version "),t("code",{pre:!0},[s._v(">=6.9.0")]),s._v(" (stable) or Yarn at version "),t("code",{pre:!0},[s._v(">=1.19.1")]),s._v(" (stable)")]),t("h2",[s._v("Create new Node IoC application")]),t("p",[s._v("To create a new Node IoC application, you may clone (or download) the official "),t("a",{attrs:{href:"https://github.com/absolunet/node-ioc-app"}},[s._v("Node IoC application scaffold")]),s._v(". This repository is always up to date to the last framework version. It provides everything needed to quickly start a new Node.js project.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("cd")]),s._v(" [your-working-directory]\ngit "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("clone")]),s._v(" https://github.com/absolunet/node-ioc-app.git [your-application-name]\n"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("cd")]),s._v(" [your-application-name]\n")])]),t("p",[s._v("With this method, you will download the Git history as well. Simply delete the "),t("code",{pre:!0},[s._v(".git")]),s._v(" folder and start a fresh history with "),t("code",{pre:!0},[s._v("git init")]),s._v(" (if you are working with Git as your SVN)")]),t("p",[s._v("Now that the application was downloaded, install the project dependencies, with the development dependencies so you can test your application.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm install\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# or")]),s._v("\nyarn\n")])]),t("p",[t("em",[s._v("From now on, NPM will be used for examples")])]),t("h2",[s._v("Compile source code")]),t("p",[s._v("The application, as well as the framework, was built with the latest ES6+ features. In order to properly work on older environment, without experimental flags or unstable implementation, they rely on Babel transpiler, which baiscally converts EcmaScript Modules (ESM) to CommonJS, the default Node.js modular system. That being said, you are free to use any JavaScript preprocessor you want, such as TypeScript. However, the application comes with vanilla JavaScript only, without any TypeScript definition.")]),t("h3",[s._v("Node Manager")]),t("p",[s._v("To compile your code, "),t("a",{attrs:{href:"https://absolunet.com"}},[s._v("Absolunet")]),s._v(" as built a "),t("a",{attrs:{href:"https://github.com/absolunet/node-manager"}},[s._v("Node Manager")]),s._v(" to facilitate code compilation, outdated dependencies reports, package deployment, API documentation generation and much more. By the way, feel free to check the amazing "),t("a",{attrs:{href:"https://github.com/absolunet"}},[s._v("Absolunet public packages")]),s._v("!")]),t("h3",[s._v("Compile using Node Manager")]),t("p",[s._v("To compile the source code, simply run the manager task:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run manager:build\n")])]),t("p",[s._v("You can also use the build watch feature so you can quickly develop without having to manually compile your source code.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run manager:watch\n")])]),t("p",[s._v("Node Manager uses Webpack bundler under the hood.\nYou won't have to bother all the compilation configuration, everything is already set up for you.\nIf you feel that some additional configuration is needed, please read the official "),t("a",{attrs:{href:"https://documentation.absolunet.com/node-manager"}},[s._v("Node Manager documentation")]),s._v(".")]),t("h2",[s._v("Run CLI")]),t("p",[s._v("Now that your application has been compiled, you are ready to use Node IoC. The basic command to run your application CLI must start by "),t("code",{pre:!0},[s._v("node ioc")]),s._v(", follow by your command.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc\n")])]),t("p",[s._v("This should display the list of available command, that should look like this:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[s._v("Node IoC\n\nUsage:\n  command [arguments] [options]\n\nAvailable commands:\n   env           Display the application environment.\n   list          List all available commands.\n   serve         Serve the application.\n  cache\n   cache:clear   Flush the application cache.\n   cache:forget  Remove an item from the cache.\n\nOptions:\n  --help         Show help\n  --version      Show version number\n  -v, --verbose  Adjust the verbosity of the command\n")])]),t("p",[s._v("You can also use this alias")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc list\n")])]),t("p",[s._v("When you start using the application, you will only have few commands available, for multiple reasons:")]),t("ul",[t("li",[s._v("Your environment has not been set yet")]),t("li",[s._v("You don't have any module installed")]),t("li",[s._v("You have not yet built your own commands")])]),t("h2",[s._v("Run server")]),t("p",[s._v("One of the available command is called "),t("code",{pre:!0},[s._v("serve")]),s._v(". It starts your application HTTP server, which is powered by Express.")]),t("p",[s._v("To start the server, use this command:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc serve\n")])]),t("p",[s._v("You should see "),t("code",{pre:!0},[s._v("This is serving on port 8080...")]),s._v(" appearing, indicating that your server has successfully started.\nYou can now visit your application website through "),t("a",{attrs:{href:"http://localhost:8080"}},[s._v("http://localhost:8080")]),s._v(". A basic website scaffold comes with the application for example purpose, but feel free to change whatever you want.")]),t("p",[s._v("The port remains configurable with the "),t("code",{pre:!0},[s._v("--port")]),s._v(" option. You you want to know how a command works, you can use the "),t("code",{pre:!0},[s._v("--help")]),s._v(" flag.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc serve --"),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("help")]),s._v("\n")])]),t("p",[s._v("It will show you something like this:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[s._v("ioc serve\n\nServe the application.\n\nOptions:\n  --help          Show help                                                                                    [boolean]\n  --version       Show version number                                                                          [boolean]\n  -v, --verbose   Adjust the verbosity of the command                                                            [count]\n  --port          Port to use to serve the application.                                         [string] [default: 8080]\n  --daemon        Use a daemon to automatically restart the serve process when a file has changed.             [boolean]\n  --silent        Silently run the process without any console output.                                         [boolean]\n  --start-silent  Silently start the process, but still output data in the console afterwards.                 [boolean]\n")])]),t("h2",[s._v("Configuration")]),t("h3",[s._v("Configure Node.js HTTP proxy")]),t("p",[s._v("In a conventional server, the ports 80 and 443 are already reserved in order to serve content. With this constraint, a reverse proxy must be configured to redirect port 80 (or 443) requests to the application port (8080 by default).")]),t("h4",[s._v("Apache")]),t("p",[s._v("Here is the basic configuration for Apache server.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-apacheconfig"}},[s._v('<VirtualHost *:80>\n    ServerName myApp\n    ServerAlias my-app.example.com\n    DocumentRoot /var/www/my_app\n\n    ProxyRequests Off\n    ProxyPreserveHost On\n    ProxyVia Full\n\n\n    <Directory "/">\n        Options -Indexes +FollowSymLinks\n        AllowOverride None\n        Require all granted\n\n        # Here, we indicate that any request made to "http://my-app.example.com"\n        # domain, on port 80, are actually made to "http://localhost:8080".\n        # If a request to the page "http://my-app.example.com/foo/bar" is made,\n        # apache will resolve the response through "http://localhost:8080/foo/bar".\n\n        ProxyPass http://localhost:8080\n        ProxyPassReverse http://localhost:8080\n    </Directory>\n\n    <Proxy *>\n        Require all granted\n    </Proxy>\n</VirtualHost>\n')])]),t("h4",[s._v("Nginx")]),t("p",[s._v("Here is the basic configuration for Nginx server.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[s._v('server {\n        index index.html;\n        server_name my-app.example.com;\n        root /var/www/my_app;\n        listen 80;\n\n        location / {\n\n                # Here, we indicate that any request made to "http://my-app.example.com"\n                # domain, on port 80, are actually made to "http://localhost:8080".\n                # If a request to the page "http://my-app.example.com/foo/bar" is made,\n                # nginx will resolve the response through "http://localhost:8080/foo/bar".\n\n                proxy_pass http://localhost:8080;\n                proxy_http_version 1.1;\n                proxy_set_header Upgrade $http_upgrade;\n                proxy_set_header Connection \'upgrade\';\n                proxy_set_header Host $host;\n                proxy_cache_bypass $http_upgrade;\n        }\n}\n')])]),t("h3",[s._v("Configure process management")]),t("p",[s._v("Since Node.js is an engine that is not bootstrapped my the Apache or the Nginx server, it must be started manually. The "),t("code",{pre:!0},[s._v("node ioc serve")]),s._v(" starts a new process that listen to the HTTP port 8080.\nHowever, in order to make this process automatically started on server boot, a process manager can be a very good help to monitor the process and ensure that it is fully running anytime.")]),t("h4",[s._v("PM2")]),t("p",[t("a",{attrs:{href:"http://pm2.keymetrics.io/"}},[s._v("PM2")]),s._v(" os one of the most popular Node.js production process manager. It allows to easily manage, start, stop, restart and monitor processes.")]),t("p",[s._v("First, install the package globally.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm install -g pm2\n")])]),t("p",[s._v("Then, go to your application directory and run the command to create the pm2 service instance.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("pm2 start "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"node ioc serve"')]),s._v(" --name "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"my-app"')]),s._v("\n")])]),t("p",[s._v("This will first create the "),t("code",{pre:!0},[s._v("my-app")]),s._v(" process into PM2, then it will start the process. Your application will then run at port 8080. The reverse proxy will then do the trick to enable your website over port 80 or 443.")]),t("p",[s._v("You can stop the process by running the following command.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("pm2 stop my-app\n")])]),t("p",[s._v("If you want to restart it, simply use your process name.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("pm2 start my-app\n")])]),t("p",[s._v("To enable start on server boot, please follow the "),t("a",{attrs:{href:"http://pm2.keymetrics.io/docs/usage/startup/"}},[s._v("official documentation")]),s._v(".")]),t("h3",[s._v("Configuration files")]),t("p",[s._v("Node IoC make it very easy to manage packages and framework behavior through configuration files.\nThose files are located under the "),t("code",{pre:!0},[s._v("config")]),s._v(" folder.\nThe configuration system supports "),t("code",{pre:!0},[s._v(".yaml")]),s._v(", "),t("code",{pre:!0},[s._v("yml")]),s._v(", "),t("code",{pre:!0},[s._v(".js")]),s._v(" and "),t("code",{pre:!0},[s._v(".json")]),s._v(" files. By default, "),t("code",{pre:!0},[s._v(".yaml")]),s._v(" files are being used, mostly for readability.\nIf you are using "),t("code",{pre:!0},[s._v(".js")]),s._v(" files, make sure that you are using common.js syntax ("),t("code",{pre:!0},[s._v("module.exports = {}")]),s._v(") instead of EcmaScript modules ("),t("code",{pre:!0},[s._v("export default {}")]),s._v("), since those files are never compiled.")]),t("p",[s._v("The configuration system is documented "),t("a",{attrs:{href:"../../basics/configuration"}},[s._v("here")])]),t("p",[s._v("However, here are the key points:")]),t("ul",[t("li",[s._v("A configuration can contain any type of JSON-compatible value: null, string, number, boolean, object or array")]),t("li",[s._v("Dotted string notation is used to access configuration; the config keys must not contain dots")]),t("li",[s._v("The configuration namespaces are the file names (eg: "),t("code",{pre:!0},[s._v("foo.bar")]),s._v(" references to the "),t("code",{pre:!0},[s._v("bar")]),s._v(" first-level key inside "),t("code",{pre:!0},[s._v("foo.yaml")]),s._v(" file)")]),t("li",[s._v("To reference the application root path, the value must start by "),t("code",{pre:!0},[s._v("@/")]),s._v(" (eg: "),t("code",{pre:!0},[s._v("@/storage/logs/ioc.log")]),s._v(")")]),t("li",[s._v("To reference the home directory path the value myst start by "),t("code",{pre:!0},[s._v("~/")]),s._v(" (eg: "),t("code",{pre:!0},[s._v("~/.ssh/id_rsa.pub")]),s._v(")")]),t("li",[s._v("To reference an environment variable, the value must contain double mustaches (eg: "),t("code",{pre:!0},[s._v("{{SOME_VARIABLE}}")]),s._v(")")]),t("li",[s._v("To reference an environment variable with a fallback value, you must use a pipe to separate the variable from the default value (eg: "),t("code",{pre:!0},[s._v("{{SOME_VARIABLE|default value}}")]),s._v(")")]),t("li",[s._v("An environment variable can be used inside a value (eg: "),t("code",{pre:!0},[s._v("foo_{{SOME_VARIABLE}}_bar")]),s._v(", "),t("code",{pre:!0},[s._v("{{SOME_VARIABLE|table_name}}.column_name")]),s._v(")")])]),t("h3",[s._v("Environment")]),t("p",[s._v("The environment is very useful to quickly adapt configuration from local machine to production server.\nThe configuration can directly references the environment variable with the double mustache syntax.\nHowever, to ensure that the environment remains simple to manage, a "),t("code",{pre:!0},[s._v(".env")]),s._v(" file can be used in your application.\nEvery key-value pair will be merged in the existing environment during your application execution time.\nA "),t("code",{pre:!0},[s._v(".env.example")]),s._v(" is provided by default in the application repository. Simply copy the file with the name "),t("code",{pre:!0},[s._v(".env")]),s._v(" and change the appropriate values, such as "),t("code",{pre:!0},[s._v("APP_ENV")]),s._v(", that will specify the application environment, such as "),t("code",{pre:!0},[s._v("local")]),s._v(", "),t("code",{pre:!0},[s._v("test")]),s._v(", "),t("code",{pre:!0},[s._v("staging")]),s._v(" or "),t("code",{pre:!0},[s._v("production")]),s._v(".\nThe environment repository can be used to safely retrieve environment variable (eg: "),t("code",{pre:!0},[s._v("app.make('env').get('APP_ENV', 'production')")]),s._v(" (get "),t("code",{pre:!0},[s._v("APP_ENV")]),s._v(" environment variable value, with "),t("code",{pre:!0},[s._v("production")]),s._v(" as default value)).\nIf the file does not exists, the current environment will still be accessible through the application and the environment repository.")]),t("h3",[s._v("Directory permissions")]),t("p",[s._v("The whole project must be accessible in read mode for your application, in order to require and execute JavaScript files and read configuration and environment files.\nHowever, the "),t("code",{pre:!0},[s._v("storage")]),s._v(" directory must be writable by your application, since logs, cache, SQLite database and uploaded files are stored in this directory.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("sudo chgrp -R www-data storage\nsudo chmod -R ug+rwx storage\n")])])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"83ab":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Commands")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"86f7":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Factories")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"8c81":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Create a service")]),t("h2",[s._v("Introduction")]),t("p",[t("em",[s._v("The API endpoint assignment must be completed to start this one since it uses the same controller and refactors it.")])]),t("p",[s._v("Services, repositories, factories, builders, drivers, engines, handlers... Those are all common terms for backend developers.")]),t("p",[s._v("If you are new to this world, it's important to understand the "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/SOLID"}},[s._v("SOLID")]),s._v(" principles.")]),t("p",[s._v("The first principle that it defines is the "),t("em",[t("strong",[s._v("S")]),s._v("ingle responsibility principle")]),s._v(", which states that each function, class, method, file, etc., must have a single purpose, a unique responsibility regarding your application. It makes it easier to maintain, to test, to predict and to use. We refer the classes that have too much responsibilities as "),t("em",[s._v("God class")]),s._v(".")]),t("p",[s._v("So, if a controller has business logic in it, it does not comply to the SOLID principle. The controller's role is to handle the request and to return a response matching the request, not to interact with a database or to send emails.")]),t("p",[s._v("In this assignment, we will create a "),t("code",{pre:!0},[s._v("TodoService")]),s._v(" that will perfectly fit with the previous assignment. In the last assignment, the controller itself managed the business logic of the todos. Let's split those two responsibilities.")]),t("h2",[s._v("What is a service?")]),t("p",[s._v("Essentially, a service manages the business (or the application) logic. They are separated by concerns and can use other services, repositories and so on. In an eCommerce platform, for instance, it is very usual to have a "),t("code",{pre:!0},[s._v("CustomerService")]),s._v(", a "),t("code",{pre:!0},[s._v("ProductService")]),s._v(" and an "),t("code",{pre:!0},[s._v("OrderService")]),s._v(", each of them exposing methods to interact with the data by using the programmed business logic.")]),t("p",[s._v("In our case, the "),t("code",{pre:!0},[s._v("TodoService")]),s._v(" that we will create will essentially exposes the CRUD methods, but with some verbosity in it: instead of "),t("code",{pre:!0},[s._v("index")]),s._v(", we will call "),t("code",{pre:!0},[s._v("all()")]),s._v(", or "),t("code",{pre:!0},[s._v("getAllTodos()")]),s._v(", whatever is verbose enough for you and those who will read or use the code.")]),t("blockquote",[t("p",[s._v("Indeed, the ratio of time spent reading versus writing is well over 10 to 1. We are constantly reading old code as part of the effort to write new code. ...[Therefore,] making it easy to read makes it easier to write.")]),t("p",[s._v("--- "),t("em",[s._v("Robert C. Martin, Clean Code: A Handbook of Agile Software Craftsmanship")])])]),t("h2",[s._v("Create the "),t("code",{pre:!0},[s._v("TodoService")])]),t("p",[s._v("First, let's create our first service. Unlike the other times, there is no command to scaffold a service since they are normally completely custom.")]),t("p",[s._v("Let's create a "),t("code",{pre:!0},[s._v("services")]),s._v(" folder under "),t("code",{pre:!0},[s._v("src/app")]),s._v(", to group our services. Then, we can create a "),t("code",{pre:!0},[s._v("TodoService.js")]),s._v(" file in it.")]),t("p",[s._v("Here is the basic content:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n}\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" TodoService;\n")])]),t("p",[s._v("Normally, any Node.js developer would go in their "),t("code",{pre:!0},[s._v("TodoController")]),s._v(" and "),t("code",{pre:!0},[s._v("import TodoService from '../../../services/TodoService")]),s._v(". Not in Node IoC. "),t("strong",[s._v("NEVER")]),s._v(" do this in Node IoC. Why? Why using Node IoC in the first place. From the beginning, we injected "),t("code",{pre:!0},[s._v("config")]),s._v(" and "),t("code",{pre:!0},[s._v("http")]),s._v(", the controller used the application to build "),t("code",{pre:!0},[s._v("validator")]),s._v(" and "),t("code",{pre:!0},[s._v("view")]),s._v(", without importing anything. We should work the same way!")]),t("p",[s._v("To make a service injectable, only two lines of code are required, and those lines will be located in a "),t("code",{pre:!0},[s._v("ServiceProvider")]),s._v(".\nIn our application, we have two service providers: the "),t("code",{pre:!0},[s._v("AppServiceProvider")]),s._v(", which should be used for service registration and third party initialization, and "),t("code",{pre:!0},[s._v("RouteServiceProvider")]),s._v(", which load the routes into the router.")]),t("p",[s._v("Inside the "),t("code",{pre:!0},[s._v("src/app/providers/AppServiceProvider")]),s._v(", you will see two methods: "),t("code",{pre:!0},[s._v("register")]),s._v(" and "),t("code",{pre:!0},[s._v("boot")]),s._v(". The "),t("code",{pre:!0},[s._v("register")]),s._v(" is perfectly suited to bind a service in the application to make it injectable.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { ServiceProvider } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/ioc'")]),s._v(";\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" TodoService "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../services/TodoService'")]),s._v(";\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n * Application service provider.\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("AppServiceProvider")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("ServiceProvider")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Register any application services.\n     */")]),s._v("\n    register() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// You may register any service either as a binding or a singleton using")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.app.bind('service.name', concrete) or")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.app.singleton('service.name', concrete). However, you should not")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// use any service since some services may not be available yet.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".app.singleton("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v(", TodoService);\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n     * Bootstrap any application services.\n     */")]),s._v("\n    boot() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// You may use services here to bootstrap them. You can get a service")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// instance using this.app.make('service.name').")]),s._v("\n    }\n\n}\n")])]),t("p",[s._v("We will use the "),t("code",{pre:!0},[s._v("singleton")]),s._v(" binding method to prevent creating a new instance each time it is registered.")]),t("p",[s._v("Now that we made a service, let's try to inject it in our "),t("code",{pre:!0},[s._v("TodoController")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'config'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v("];\n    }\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".dump("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo);\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// return this.json(this.config.get('todo', []));")]),s._v("\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("In the dumped page, you should see "),t("code",{pre:!0},[s._v("( TodoService #1 ) { ▸ }")]),s._v(". Your service was successfully instantiated! We can now start to implement it.")]),t("h2",[s._v("Describe the methods")]),t("p",[s._v("Here are the main actions (as a TypeScript interface) that we want to perform over our todos:")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("getAll(): Array<Todo>;")])]),t("li",[t("code",{pre:!0},[s._v("create(data: CreateTodoModel): Todo;")])]),t("li",[t("code",{pre:!0},[s._v("findById(id: number): Todo;")])]),t("li",[t("code",{pre:!0},[s._v("existById(id): boolean;")])]),t("li",[t("code",{pre:!0},[s._v("updateById(id: number, data: UpdateTodoModel): Todo;")])]),t("li",[t("code",{pre:!0},[s._v("deleteById(id: number): void;")])])]),t("p",[s._v("They are much more verbose than "),t("code",{pre:!0},[s._v("index")]),s._v(" or "),t("code",{pre:!0},[s._v("show")]),s._v(", aren't they? Now, let's write our methods in the service.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    getAll() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    create(data) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    existById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    findById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    updateById(id, data) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n    deleteById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//")]),s._v("\n    }\n\n}\n")])]),t("h2",[s._v("Refactor the controller")]),t("p",[s._v("Let's use the service in the controller instead of the config repository and all the business logic. However, the validation should remain. It is still the controller's responsibility to validate the request.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todo'")]),s._v("];\n    }\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo.getAll());\n    }\n\n    store() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".validate("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("validator")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": validator.string().required()\n            };\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo.create("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.body));\n    }\n\n    show() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" id = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Number")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params.todo);\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo.findById(id);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!todo) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json(todo);\n    }\n\n    update() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" id = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Number")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params.todo);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo.existById(id)) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".validate("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("validator")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label")]),s._v(": validator.string().optional(),\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(":  validator.boolean().optional()\n            };\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".json("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo.updateById(id, "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.body));\n    }\n\n    destroy() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" id = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Number")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.params.todo);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo.existById(id)) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".notFound();\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".todo.deleteById(id);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".noContent();\n    }\n\n}\n")])]),t("p",[s._v("As you can see in this refactored controller, there is no business logic, just request handling (request body validation, service actions execution and response process).")]),t("p",[s._v("Now, we need to implement the "),t("code",{pre:!0},[s._v("TodoService")]),s._v(" methods.")]),t("h2",[s._v("Implement the service")]),t("h3",[s._v("Implement "),t("code",{pre:!0},[s._v("getAll()")])]),t("p",[s._v("Let's tackle our first method, "),t("code",{pre:!0},[s._v("getAll")]),s._v(", which should return an array of todos, as described above.")]),t("p",[s._v("But, before implementing it, we need to store the todos somewhere. And the "),t("code",{pre:!0},[s._v("config")]),s._v(" repository was just for testing... It is not its purpose, so we should not use it anymore.")]),t("p",[s._v("In fact, we just need a repository to store them. We could create a "),t("code",{pre:!0},[s._v("TodoRepository")]),s._v(" to manage the todo store, but let's implement a single service for now.")]),t("p",[s._v("Normally, in object-oriented programming, we would use a private property to store the todos. In JavaScript, the encapsulation is not yet implemented (take a look at "),t("a",{attrs:{href:"https://github.com/tc39/proposal-class-fields"}},[s._v("this TC39 proposal")]),s._v("). However, Absolunet offers an easy to use tool to emulate encapsulation with the "),t("code",{pre:!0},[s._v("[@absolunet/private-registry](https://github.com/absolunet/node-private-registry)")]),s._v(" package (of course, it is not as strong as real encapsulation, but it's still a good starting point).")]),t("p",[s._v("Let's use it. This time, since it should be kept private, you can "),t("code",{pre:!0},[s._v("import")]),s._v(" it.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" __ "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/private-registry'")]),s._v(";\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("Normally, what we would do is initializing our data in the constructor, like this:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("() {\n        __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []);\n    }\n\n}\n")])]),t("p",[s._v("However, since the dependency injection occurs at this time and the dependencies are not yet dynamically assigned, Node IoC offers another starting point for initialization, through the "),t("code",{pre:!0},[s._v("init")]),s._v(" method.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    init() {\n        __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []);\n    }\n\n}\n")])]),t("p",[s._v("In the container instantiation cycle, the instance's dependencies are resolved. An instance is created, with the resolved dependencies passed as arguments. They are then dynamically assigned, and finally, the "),t("code",{pre:!0},[s._v("init")]),s._v(" method is called.")]),t("p",[s._v("In the "),t("code",{pre:!0},[s._v("init")]),s._v(" method, you can assume that everything is properly set up and the instance is ready to work.")]),t("p",[s._v("Now that the todos are saved somewhere, let's implement the "),t("code",{pre:!0},[s._v("getAll")]),s._v(" method.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    init() {\n        __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []);\n    }\n\n    getAll() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(").map("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("todo")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { ...todo };\n        });\n    }\n\n}\n")])]),t("p",[s._v("Here, a new array, with all the todos in it, is returned, to prevent that the array is directly modified by the caller. It would remove the meaning of a private member.")]),t("p",[s._v("The same thing is done for all the todos. They are transform to an identical object, but on another instance, to prevent direct modification.")]),t("p",[s._v("Let's try to call the "),t("code",{pre:!0},[s._v("/api/todo")]),s._v(" route. We should have an empty array as the response.")]),t("h3",[s._v("Implement "),t("code",{pre:!0},[s._v("create()")])]),t("p",[s._v("Now, we can create a new todo and store it in the private registry. And we can keep track of an incrementing ID, which would be much cleaner than what we have done previously in the controller.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    init() {\n        __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []);\n        __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'id'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(");\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    create({ label }) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" _this = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get();\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" id    = ++_this.id;\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n            id,\n            label\n        };\n\n        _this.todos.push(todo);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todo;\n    }\n\n}\n")])]),t("h3",[s._v("Implement "),t("code",{pre:!0},[s._v("findById()")])]),t("p",[s._v("Finding the todo by ID should be simple, it's basically the same thing that we did in the controller during the last assignment.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    findById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(");\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todo ? { ...todo } : "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(";\n    }\n\n}\n")])]),t("p",[s._v("Here, we do the same thing as the "),t("code",{pre:!0},[s._v("getAll")]),s._v(" method. We return another instance of the same data to prevent direct overwrite.")]),t("p",[s._v("However, you may have noticed that we do not cast the id as string, because, in our model, we expect a number as ID. It's the responsibility of the caller to provide us the proper type.\nIn the controller, you may have also noticed that all the "),t("code",{pre:!0},[s._v("id")]),s._v(" that are sent to the service are cast as "),t("code",{pre:!0},[s._v("Number")]),s._v(".")]),t("h3",[s._v("Implement "),t("code",{pre:!0},[s._v("existById()")])]),t("p",[s._v("We can rely on our "),t("code",{pre:!0},[s._v("findById")]),s._v(" method and return a boolean value of the returned data, or we can rely on the "),t("code",{pre:!0},[s._v("some")]),s._v(" method. Both methods are very similar in term of performance, so no need to worry about it for now.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    existById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Boolean")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".findById(id));\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("Or")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    existById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(").some("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("h3",[s._v("Implement "),t("code",{pre:!0},[s._v("updateById()")])]),t("p",[s._v("Now, let's update an existing todo.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    updateById(id, { label, done }) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(");\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo  = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n    \n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!todo) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("TypeError")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`The todo "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v(" was not found.`")]),s._v(");\n        }\n    \n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" label === "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(") {\n            todo.label = label;\n        }\n    \n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" done === "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'boolean'")]),s._v(") {\n            todo.done = done;\n        }\n    \n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { ...todo };\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n}\n")])]),t("p",[s._v("Here, first retrieve the original array, with all the original todo instances.")]),t("p",[s._v("We attempt to find the todo with the received ID. If it does not exists, we throw an error. Notice that our controller made a "),t("code",{pre:!0},[s._v("existById")]),s._v(" check before going forward with the update.")]),t("p",[s._v("Notice that we do not reassign the todo in the array. Since the reference is still the same, the todo in the array is pointing to the same object as the "),t("code",{pre:!0},[s._v("todo")]),s._v(" constant.")]),t("h3",[s._v("Implement "),t("code",{pre:!0},[s._v("deleteById()")])]),t("p",[s._v("Finally, let's delete a todo by ID.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    deleteById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(");\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" index = todos.findIndex("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (index === "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(") {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("TypeError")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`The todo "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v(" was not found.`")]),s._v(");\n        }\n\n        todos.splice(index, "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n    }\n\n}\n")])]),t("p",[s._v("Here is our final class result.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" __ "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@absolunet/private-registry'")]),s._v(";\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("TodoService")]),s._v(" ")]),s._v("{\n\n    init() {\n        __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(", []);\n        __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").set("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'id'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(");\n    }\n\n    getAll() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(").map("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("todo")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { ...todo };\n        });\n    }\n\n    create({ label }) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" _this = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get();\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" id = ++_this.id;\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n            id,\n            label\n        };\n\n        _this.todos.push(todo);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todo;\n    }\n\n    findById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(");\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todo ? { ...todo } : "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(";\n    }\n\n    existById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(").some("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n    }\n\n    updateById(id, { label, done }) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(");\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todo  = todos.find("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!todo) {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("TypeError")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`The todo "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v(" was not found.`")]),s._v(");\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" label === "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(") {\n            todo.label = label;\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" done === "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'boolean'")]),s._v(") {\n            todo.done = done;\n        }\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { ...todo };\n    }\n\n    deleteById(id) {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" todos = __("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(").get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todos'")]),s._v(");\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" index = todos.findIndex("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ id: todoId }")]),s._v(") =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" todoId === id;\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (index === "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(") {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("TypeError")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`The todo "),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v(" was not found.`")]),s._v(");\n        }\n\n        todos.splice(index, "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n    }\n\n}\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" TodoService;\n")])])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"9c50":function(s,e,t){},"9d7d":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("File system")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},b359:function(s,e,t){},b77d:function(s,e,t){"use strict";var a=t("5bbc"),r=t.n(a);r.a},ba86:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Create a Web page")]),t("h2",[s._v("Introduction")]),t("p",[s._v("This tutorial will show you how to build a Web page using MVC approach with Node IoC.")]),t("p",[s._v("For this second assignment, we will create a search form to find an inspiring book with the "),t("a",{attrs:{href:"https://developers.google.com/books/docs/v1/using#PerformingSearch"}},[s._v("Google Books API")]),s._v(". The fetch logic will be the same, but the implementation will be different since it will display a Web page instead of a formatted string inside the console.")]),t("p",[s._v("Here are the key concepts that will be part of this tutorial:")]),t("ul",[t("li",[s._v("The "),t("code",{pre:!0},[s._v("serve")]),s._v(" command")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("router")]),s._v(" service (through the routes file and a view helper function)")]),t("li",[s._v("The web routes file")]),t("li",[s._v("Named routes")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("Controller")]),s._v(" class")]),t("li",[s._v("Scaffolding controller with "),t("code",{pre:!0},[s._v("make:controller")])]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("http")]),s._v(" service")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("view")]),s._v(" service (through a controller method)")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("include")]),s._v(" view tag")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("dumper")]),s._v(" service (through a controller method and a view helper function)")]),t("li",[s._v("The "),t("code",{pre:!0},[s._v("translator")]),s._v(" service (through a view helper function)")]),t("li",[s._v("The translations file")])]),t("h2",[s._v("Launch the server")]),t("p",[s._v("First, we need to start a server.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc serve\n")])]),t("p",[s._v("This will start a new server process over port "),t("code",{pre:!0},[s._v("8080")]),s._v(". Try accessing "),t("a",{attrs:{href:""}},[s._v("http://localhost:8080")]),s._v(". You should see the default Web welcome page. If you need to change port, use the "),t("code",{pre:!0},[s._v("--port=8080")]),s._v(" option, with the wanted port.")]),t("p",[s._v("To develop faster, Node IoC provides a daemon feature that will relaunch the server on file change.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc serve --daemon\n")])]),t("p",[s._v("Once the server has started, we can, in another terminal, run the Node Manager "),t("code",{pre:!0},[s._v("watch")]),s._v(" command.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run manager:watch\n")])]),t("p",[s._v("Now, we are ready to create our first Web page!")]),t("h2",[s._v("Create the routes")]),t("p",[s._v("Then, we need to create our routes. A route is a way to associate a path or a pattern to a handler. In an MVC application, the handler will be a controller action.")]),t("p",[s._v("Your routes are located in the "),t("code",{pre:!0},[s._v("src/routes/web.js")]),s._v(" file.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router, app) => {\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// The original comments were stripped out for easier readability.")]),s._v("\n\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/example'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@example'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'example'")]),s._v(");\n\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/static'")]),s._v(", app.publicPath());\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/uploads'")]),s._v(", app.uploadPath("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'public'")]),s._v("));\n};\n")])]),t("p",[s._v("Let's create a route that will match the "),t("code",{pre:!0},[s._v("/inspire/book")]),s._v(" URL.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router, app) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/example'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@example'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'example'")]),s._v(");\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Your new route")]),s._v("\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book'")]),s._v(", (request, response) => {\n        response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The inspire book search page...'")]),s._v(");\n    });\n\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/static'")]),s._v(", app.publicPath());\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/uploads'")]),s._v(", app.uploadPath("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'public'")]),s._v("));\n};\n")])]),t("p",[s._v("Try the newly created page: "),t("a",{attrs:{href:""}},[s._v("http://localhost:8080/inspire/book")]),s._v(".")]),t("p",[s._v("You should only see a text in a blank window, with your text: "),t("code",{pre:!0},[s._v("The inspire book search page...")]),s._v(".")]),t("p",[s._v("You can also create the result page route.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book/search'")]),s._v(", (request, response) => {\n    response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The inspire book search result page...'")]),s._v(");\n});\n")])]),t("h2",[s._v("Creat the controller")]),t("p",[s._v("Now, let's do the things right! A closure is a fast way to implement a route, but the code will rapidly begin to be messy, and the routes file, huge. We need to split the code by responsibility.")]),t("p",[s._v("A controller has the responsibility to handle a request, and a route, to map URL patterns to a request handler.")]),t("p",[s._v("To create a controller, you can use the Node IoC command to make a quick scaffold.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("node ioc make:controller InspireBookController\n")])]),t("blockquote",[t("p",[s._v("This scaffold command accepts some flags to create different skeletons.")]),t("p",[s._v("the "),t("code",{pre:!0},[s._v("handler")]),s._v(" flag will create a controller with a single "),t("code",{pre:!0},[s._v("handle")]),s._v(" method.")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("resource")]),s._v(" flag will create a controller with all the CRUD methods: "),t("code",{pre:!0},[s._v("index")]),s._v(", "),t("code",{pre:!0},[s._v("create")]),s._v(", "),t("code",{pre:!0},[s._v("store")]),s._v(", "),t("code",{pre:!0},[s._v("show")]),s._v(", "),t("code",{pre:!0},[s._v("edit")]),s._v(", "),t("code",{pre:!0},[s._v("update")]),s._v(" and "),t("code",{pre:!0},[s._v("destroy")]),s._v(".")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("api")]),s._v(" flag will create a controller with all the API CRUD methods: "),t("code",{pre:!0},[s._v("index")]),s._v(", "),t("code",{pre:!0},[s._v("store")]),s._v(", "),t("code",{pre:!0},[s._v("show")]),s._v(", "),t("code",{pre:!0},[s._v("update")]),s._v(" and "),t("code",{pre:!0},[s._v("destroy")]),s._v(".")])]),t("p",[s._v("Your new controller is located under the "),t("code",{pre:!0},[s._v("src/app/http/controllers")]),s._v(" folder.")]),t("p",[s._v("Now, inside your controller, you can create your first method. Let's call it "),t("code",{pre:!0},[s._v("index")]),s._v(".")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The inspire book search result page inside a controller...'")]),s._v(");\n    }\n\n}\n")])]),t("p",[s._v("Then, we must link it to the route.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router, app) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/example'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@example'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'example'")]),s._v(");\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Your updated route, following 'ControllerName@method' pattern")]),s._v("\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'InspireBookController@index'")]),s._v(");\n \n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Your search route, still with a closure handler")]),s._v("\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book/search'")]),s._v(", (request, response) => {\n        response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'The inspire book search result page...'")]),s._v(");\n    });\n \n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/static'")]),s._v(",  app.publicPath());\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/uploads'")]),s._v(", app.uploadPath("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'public'")]),s._v("));\n};\n")])]),t("p",[s._v("A thing that must be understood about the controller resolving is that, normally, we must register a controller through the controller repository ("),t("code",{pre:!0},[s._v("router.controller")]),s._v("). However, the application controllers are dynamically resolved by the repository, so you don't have to manually register all of them.")]),t("p",[s._v("The pattern of a controller for resolving is "),t("code",{pre:!0},[s._v("folder.subfolder.ControllerName@method")]),s._v(", starting from the "),t("code",{pre:!0},[s._v("src/app/controllers")]),s._v(" folder.")]),t("p",[s._v("Now, let's reload our Web page again, with the same URL. The request should now be handled by the controller, through the "),t("code",{pre:!0},[s._v("index")]),s._v(" method.")]),t("h2",[s._v("Render the index view")]),t("p",[s._v("The view system is already attached to the controller instance. You can use the "),t("code",{pre:!0},[s._v("view")]),s._v(" method to display an rendered template.")]),t("blockquote",[t("p",[s._v("The same way the controller names are dotted-separated paths to the file from the controllers folder, the views uses the same approach.")]),t("p",[s._v("Starting from the "),t("code",{pre:!0},[s._v("resources/views")]),s._v(" folder, the view "),t("code",{pre:!0},[s._v("pages.home")]),s._v(" should be located at "),t("code",{pre:!0},[s._v("resources/views/pages/home.html")]),s._v(".")])]),t("p",[s._v("First, let's try to render an existing template, the "),t("code",{pre:!0},[s._v("pages.home")]),s._v(" view.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.home'")]),s._v(");\n    }\n\n}\n")])]),t("p",[s._v("Now, the "),t("code",{pre:!0},[s._v("/inspire/book")]),s._v(" page should display the same page as the home page.")]),t("p",[s._v("Let's define our own page template.")]),t("p",[s._v("Inside "),t("code",{pre:!0},[s._v("resources/views/pages")]),s._v(", we will create a folder called "),t("code",{pre:!0},[s._v("inspire")]),s._v(", and inside of it, a "),t("code",{pre:!0},[s._v("book")]),s._v(" folder. The views organization is your to implement when building your own website. We will keep it simple and URL-related for now, so you won't get lost through this assignment. Feel free to explore the best ways to organize your application.")]),t("p",[s._v("Now, inside the "),t("code",{pre:!0},[s._v("resources/views/pages/inspire/book")]),s._v(", we will create the template, "),t("code",{pre:!0},[s._v("index.html")]),s._v(".")]),t("p",[s._v("Here is a suggested content:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v('{{include name="layouts.app"}}\n'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-container"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-x text-center align-middle"')]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell medium-8 medium-offset-2 large-6 large-offset-3"')]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"margin-top-3"')]),s._v(">")]),s._v("{{:~t('Search an inspiring book')}}."),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("action")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/inspire/book/search"')]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(">")]),s._v("\n                    Search\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"search"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"book"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~t('What do you want to read?')}}\"")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"submit"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"button"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~t('Find something inspiring!')}}\"")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n{{/include}}\n")])]),t("p",[s._v("Let's render this view.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.inspire.book.index'")]),s._v(");\n    }\n\n}\n")])]),t("p",[s._v("You should see the search form now!")]),t("p",[s._v("Node IoC provides Foundation 6 as a starting point to build your website. Feel free to change to whatever you prefer.")]),t("p",[s._v("The default rendering engine is "),t("a",{attrs:{href:"https://www.jsviews.com/"}},[s._v("JSRender")]),s._v(".\nSome tags and helpers are added by default by the "),t("code",{pre:!0},[s._v("view.engine")]),s._v(" service.")]),t("h3",[s._v("the "),t("code",{pre:!0},[s._v("include")]),s._v(" tag")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("{{include}}")]),s._v(" tag indicates to load another view. It needs a view "),t("code",{pre:!0},[s._v("name")]),s._v(" (the same dotted syntax previously used), at least, and an optional "),t("code",{pre:!0},[s._v("data")]),s._v(" object. If you need to pass the current data to the sub-view, use "),t("code",{pre:!0},[s._v("data=#data")]),s._v(".")]),t("p",[s._v("In this case, "),t("code",{pre:!0},[s._v('{{include name="layouts.app"}}')]),s._v(" loads the application layout template.")]),t("p",[s._v("If the template contains a "),t("code",{pre:!0},[s._v("{{:slot}}")]),s._v(" instruction, it means that you can insert HTML in it. It will be rendered at this precise spot.")]),t("p",[s._v("Inside the application layout slot, we print the page main HTML content.")]),t("h3",[s._v("The "),t("code",{pre:!0},[s._v("t()")]),s._v(" helper function")]),t("p",[s._v("The "),t("code",{pre:!0},[s._v("{{:~t('some text)}}")]),s._v(" instruction prints the given text, but transformed by the "),t("code",{pre:!0},[s._v("translator")]),s._v(" service. If a translation exists for the current locale, it will returns the translated string. Otherwise, the original string is returned.")]),t("h2",[s._v("Perform the search")]),t("p",[s._v("Now that we made our first web page, let's perform a search.")]),t("p",[s._v("First, we need to change the second route handler to point to our controller. Let's use the "),t("code",{pre:!0},[s._v("search")]),s._v(" action method")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// src/routes/web.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router, app) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/example'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@example'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'example'")]),s._v(");\n \n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'InspireBookController@index'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book/search'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'InspireBookController@search'")]),s._v(");\n    \n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/static'")]),s._v(",  app.publicPath());\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/uploads'")]),s._v(", app.uploadPath("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'public'")]),s._v("));\n};\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// src/app/http/controllers/InspireBookController.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.inspire.book.index'")]),s._v(");\n    }\n\n    search() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Searching an inspiring book...'")]),s._v(");\n    }\n\n}\n")])]),t("p",[s._v("Now, try to submit your form. You should see your "),t("code",{pre:!0},[s._v("Searching an inspiring book...")]),s._v(" text. Now, the routing is completely done. We just need to actually perform a search and render it.")]),t("h3",[s._v("Use a route name instead of an URL")]),t("p",[s._v("We succeeded in sending a search request from a page to a route. However, let's already use the good practice.")]),t("p",[s._v("We should not rely on route URL since they can easily change, and it would be a mess to maintain.")]),t("p",[s._v("The router supports route naming to make it easier to retrieve them in a more standardized way.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router, app) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/example'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@example'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'example'")]),s._v(");\n    \n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'InspireBookController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inspire.book.index'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book/search'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'InspireBookController@search'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inspire.book.search'")]),s._v(");\n    \n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/static'")]),s._v(",  app.publicPath());\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/uploads'")]),s._v(", app.uploadPath("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'public'")]),s._v("));\n};\n")])]),t("h4",[s._v("The "),t("code",{pre:!0},[s._v("route")]),s._v(" helper function")]),t("p",[s._v("Once the routes are named, we can replace the hard-coded URL in the form with the "),t("code",{pre:!0},[s._v("route")]),s._v(" helper function.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v('{{include name="layouts.app"}}\n'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-container"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-x text-center align-middle"')]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell medium-8 medium-offset-2 large-6 large-offset-3"')]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"margin-top-3"')]),s._v(">")]),s._v("{{:~t('Search an inspiring book')}}."),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("action")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~route('inspire.book.search')}}\"")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(">")]),s._v("\n                    Search\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"search"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"query"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~t('What do you want to read?')}}\"")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"submit"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"button"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~t('Find something inspiring!')}}\"")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n{{/include}}\n")])]),t("p",[s._v("When reloading the page, the URL in the form should be the same as it was before. The main advantage is that you can now rename your URL without refactor your whole templates that are possibly using this route URL.")]),t("h3",[s._v("Retrieve the request query")]),t("p",[s._v("We first need to retrieve the "),t("code",{pre:!0},[s._v("book")]),s._v(" parameter sent by the form.")]),t("p",[s._v("You can simply use the "),t("code",{pre:!0},[s._v("request")]),s._v(" object bind to the controller. It exposes a "),t("code",{pre:!0},[s._v("query")]),s._v(" property, which represent all the query string parameters. Then, we can retrieve the "),t("code",{pre:!0},[s._v("book")]),s._v(" value inside the request query.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.inspire.book.index'")]),s._v(");\n    }\n\n    search() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('`You are searching for "'),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.query.book}")]),s._v('".`')]),s._v(");\n    }\n\n}\n")])]),t("p",[s._v("If you submitted the form with "),t("code",{pre:!0},[s._v("react")]),s._v(", you should see "),t("code",{pre:!0},[s._v('You are searching for "react".')]),s._v(". We have correctly retrieved our parameter.")]),t("h3",[s._v("Search in the Google Book API")]),t("p",[s._v("Now, we need to perform a search in the "),t("a",{attrs:{href:"https://developers.google.com/books/docs/v1/using#PerformingSearc"}},[s._v("Google Book API")]),s._v(".")]),t("p",[s._v("If you already did the "),t("em",[s._v("Create a command")]),s._v(" assignment, there is nothing new here. We first inject the "),t("code",{pre:!0},[s._v("http")]),s._v(" service, we make our action async, then we await for the HTTP call response to finally retrieve a random book.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http'")]),s._v("];\n    }\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.inspire.book.index'")]),s._v(");\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" search() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("book")]),s._v(": query } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.query;\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("items")]),s._v(": books } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": query\n            }\n        });\n    \n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" book = books.sort("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(";\n        }).shift();\n    \n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".response.send("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('`You are searching for "'),t("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${query}")]),s._v('".`')]),s._v(");\n    }\n\n}\n")])]),t("p",[s._v("In Node.js, or any CLI application, it's a reflex to print the received data in the console. We can also launch the engine debugger, if available, to put some break points.\nHowever, for front-end developers, it is mode intuitive to use the browser console such as the Chrome DevTool Console or Firebug. It is still possible to launch node in inspect mode, but may still be complicated to use if not properly configured.")]),t("p",[s._v("Fortunately, Node IoC provides a simple service to quickly inspect some data in the browser or in the console, called "),t("code",{pre:!0},[s._v("dumper")]),s._v(".\nIt is based on the "),t("a",{attrs:{href:"https://symfony.com/doc/current/components/var_dumper.html#dump-examples-and-output"}},[s._v("Symfony VarDumper")]),s._v(" project.\nIt allows to use a JSON-tree lookalike system to inspect the dumped data.\nThe base controller offers it out of the box.")]),t("p",[s._v("Let's use it!")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" search() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("book")]),s._v(": query } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.query;\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("items")]),s._v(": books } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": query\n            }\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" book = books.sort("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(";\n        }).shift();\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".dump(book);\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// return this.response.send(`You are searching for "${query}".`);')]),s._v("\n    }\n\n}\n")])]),t("p",[s._v("If you reload the page, you should see a page filled by the book data. You will retrieve the dump location (the link is clickable and opens the compiled file in your configured IDE) and the dumped data.")]),t("p",[s._v("If you click on arrows, you will be able to inspect the nested objects and array values.")]),t("blockquote",[t("p",[s._v("The dumper is themeable through the "),t("code",{pre:!0},[s._v("dev.dumper")]),s._v(" configuration.")]),t("p",[s._v("Feel free to create your own theme!")])]),t("h2",[s._v("Render the search result view")]),t("p",[s._v("Now that we have a nice view on our model, let's render a web page with the data.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* ... */")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" search() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("book")]),s._v(": query } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.query;\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("items")]),s._v(": books } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": query\n            }\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" book = books.sort("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(";\n        }).shift();\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.inspire.book.search'")]),s._v(", { query, book });\n    }\n\n}\n")])]),t("p",[s._v("We first start by returning a rendered view with previously computed data: the current book search query, and the inspiring book. In order to render the view, we need to create a view that matches the requested one.")]),t("p",[s._v("We will create a view under "),t("code",{pre:!0},[s._v("resources/views/pages/inspire/book")]),s._v(" called "),t("code",{pre:!0},[s._v("search.html")]),s._v(". Here is the basic template that should be rendered (feel free to customize it your own way).")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v('{{include name="layouts.app"}}\n'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-container"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-x"')]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell"')]),s._v(">")]),s._v("\n            {{:~dump(#data)}}\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n{{/include}}\n")])]),t("h3",[s._v("The "),t("code",{pre:!0},[s._v("dump")]),s._v(" helper function")]),t("p",[s._v("Notices the "),t("code",{pre:!0},[s._v("{{:~dump(#data)}}")]),s._v(" statement? This acts the same as the controller's "),t("code",{pre:!0},[s._v("this.dump(data)")]),s._v(". However, it outputs the data inside the template instead of displaying a complete web page filled with the dumped value.")]),t("p",[s._v("You should see two keys inside the "),t("code",{pre:!0},[s._v("#data")]),s._v(" object: "),t("code",{pre:!0},[s._v("book")]),s._v(" (an object), and "),t("code",{pre:!0},[s._v("query")]),s._v(" (a string containing the searched book). This helper is very useful.")]),t("h3",[s._v("Display the view-model data in the view")]),t("p",[s._v("Now that we know the data that we have, let's put it together in a simple Web page.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v('{{include name="layouts.app"}}\n'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-container"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-x"')]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell margin-top-2"')]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("{{:~t('Search result for:')}} \""),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("em")]),s._v(">")]),s._v("{{:query}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("em")]),s._v(">")]),s._v('"'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell margin-top-1"')]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"media-object stack-for-small"')]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"media-object-section"')]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"card text-center"')]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"card-section separator-center"')]),s._v(">")]),s._v("\n                            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"thumbnail"')]),s._v(">")]),s._v("\n                                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{{:book.volumeInfo.imageLinks.thumbnail}}"')]),s._v(">")]),s._v("\n                            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"card-section padding-top-0"')]),s._v(">")]),s._v("\n                            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{{:book.volumeInfo.infoLink}}"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"_blank"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"button margin-top-1"')]),s._v(">")]),s._v("{{:~t('View on Google Books')}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"media-object-section main-section"')]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"h3"')]),s._v(">")]),s._v("{{:book.volumeInfo.title}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("\n                    {{if book.volumeInfo.subtitle}}\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"h5 subheader"')]),s._v(">")]),s._v("{{:book.volumeInfo.subtitle}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h3")]),s._v(">")]),s._v("\n                    {{/if}}\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"subheader"')]),s._v(">")]),s._v("{{:~t('Author', book.volumeInfo.authors.length)}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"no-bullet margin-left-2 margin-bottom-2"')]),s._v(">")]),s._v("\n                        {{for book.volumeInfo.authors}}\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("{{:#data}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n                        {{/for}}\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{:book.volumeInfo.description}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n{{/include}}\n")])]),t("p",[s._v("Let's examine the things that happened here.")]),t("p",[s._v("First, we printed the current searched query in the page title.")]),t("p",[s._v("We use the "),t("code",{pre:!0},[s._v("t")]),s._v(" translation helper function to internationalize our page.")]),t("p",[s._v("Then, we printed some information about the current book. We create an image tag with the thumbnail as the source.")]),t("p",[s._v("We also added a link button to the Google Books page.")]),t("p",[s._v("On the other portion of the page we basically printed the minimalist information about the book: title, subtitle (if it exists), author(s) and description.")]),t("p",[s._v("For the author, we made a "),t("code",{pre:!0},[s._v("for")]),s._v(" loop to print all the names.")]),t("h3",[s._v("Pluralization and translation")]),t("p",[s._v("Something that we did not covered yet was the pluralization, which is part of the framework, within a standalone helper, but also within the translator service, which we use through the "),t("code",{pre:!0},[s._v("t")]),s._v(" helper function.")]),t("p",[s._v("Then "),t("code",{pre:!0},[s._v("t")]),s._v(" function can accept multiple kind of parameters:")]),t("ul",[t("li",[t("code",{pre:!0},[s._v("t('my.string')")]),s._v(" -> basic translation")]),t("li",[t("code",{pre:!0},[s._v("t('my.string', 2)")]),s._v(" -> basic translation with pluralization")]),t("li",[t("code",{pre:!0},[s._v("t('my.string', { foo: 'bar' })")]),s._v(" -> translation with placeholder replacement")]),t("li",[t("code",{pre:!0},[s._v("t('my.string', { foo: 'bar' }, 2)")]),s._v(" -> translation with placeholder replacement and pluralization")])]),t("p",[s._v("Unlike the "),t("code",{pre:!0},[s._v("helper.string")]),s._v("'s "),t("code",{pre:!0},[s._v("pluralize")]),s._v(" method, the pluralization of a translation is not magic. It rely on translation configuration.")]),t("p",[s._v("In our case, we used the following statement: "),t("code",{pre:!0},[s._v("t('Author', book.volumeInfo.authors.length")]),s._v(", which basically say that the word should be translated, and also pluralize if there are more than one author. If the value is "),t("code",{pre:!0},[s._v(">= 1")]),s._v(", the the plural version, if it exists, will be used. Since no translation were made yet, we see "),t("code",{pre:!0},[s._v("Author")]),s._v(" as an output instead of "),t("code",{pre:!0},[s._v("Authors")]),s._v(" when we see more than one result.")]),t("p",[s._v("Let's make our first pluralizable translation!")]),t("p",[s._v("In the "),t("code",{pre:!0},[s._v("resources/lang")]),s._v(", you should see a "),t("code",{pre:!0},[s._v("translations.yaml")]),s._v(" file. This file is used by default when the translation does not have any namespace (we will cover this in another section).")]),t("p",[s._v("Let's add an entry.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# Custom translations")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Author:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("    en:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("      -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Author")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("      -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Authors")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("    fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# Pour nos collègues francophones ;)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("      -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Auteur")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("      -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Auteurs")]),s._v("\n")])]),t("p",[s._v("What this entry do is this:")]),t("ul",[t("li",[s._v("For a single value, the "),t("code",{pre:!0},[s._v("Author")]),s._v(" translation, in english, will be "),t("code",{pre:!0},[s._v("Author")]),s._v(".")]),t("li",[s._v("For a plural value, the "),t("code",{pre:!0},[s._v("Author")]),s._v(" translation, in english, will be "),t("code",{pre:!0},[s._v("Authors")]),s._v(".")])]),t("p",[s._v("Now, for multiple authors, we should see "),t("code",{pre:!0},[s._v("Authors")]),s._v(" instead of "),t("code",{pre:!0},[s._v("Author")]),s._v(".")]),t("p",[s._v("Here is the final result for the routes file, the controller, the two templates and the translations file:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// src/routes/web.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" (router, app) => {\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/example'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'HomeController@example'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'example'")]),s._v(");\n\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book'")]),s._v(",        "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'InspireBookController@index'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inspire.book.index'")]),s._v(");\n    router.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inspire/book/search'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'InspireBookController@search'")]),s._v(").name("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inspire.book.search'")]),s._v(");\n\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/static'")]),s._v(",  app.publicPath());\n    router.static("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/uploads'")]),s._v(", app.uploadPath("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'public'")]),s._v("));\n};\n")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// src/app/http/controllers/InspireBookController.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Controller "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Controller'")]),s._v(";\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-class"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("InspireBookController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Controller")]),s._v(" ")]),s._v("{\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v(" dependencies() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http'")]),s._v("];\n    }\n\n    index() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.inspire.book.index'")]),s._v(");\n    }\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" search() {\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { query } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".request.query;\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("items")]),s._v(": books } } = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".http.get("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.googleapis.com/books/v1/volumes'")]),s._v(", {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {\n                "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("q")]),s._v(": query\n            }\n        });\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" book = books.sort("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() - "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(";\n        }).shift();\n\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".view("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pages.inspire.book.search'")]),s._v(", { book, query });\n    }\n\n}\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" InspireBookController;\n")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- resources/views/pages/inspire/book/index.html --\x3e")]),s._v('\n{{include name="layouts.app"}}\n'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-container"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-x text-center align-middle"')]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell medium-8 medium-offset-2 large-6 large-offset-3"')]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"margin-top-3"')]),s._v(">")]),s._v("{{:~t('Search an inspiring book')}}."),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("action")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~route('inspire.book.search')}}\"")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(">")]),s._v("\n                    Search\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"search"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"query"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~t('What do you want to read?')}}\"")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"submit"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"button"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{{:~t('Find something inspiring!')}}\"")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n{{/include}}\n")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- resources/views/pages/inspire/book/search.html --\x3e")]),s._v('\n{{include name="layouts.app"}}\n'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-container"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"grid-x"')]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell margin-top-2"')]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("{{:~t('Search result for:')}} \""),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("em")]),s._v(">")]),s._v("{{:query}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("em")]),s._v(">")]),s._v('"'),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cell margin-top-1"')]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"media-object stack-for-small"')]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"media-object-section"')]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"card text-center"')]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"card-section separator-center"')]),s._v(">")]),s._v("\n                            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"thumbnail"')]),s._v(">")]),s._v("\n                                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{{:book.volumeInfo.imageLinks.thumbnail}}"')]),s._v(">")]),s._v("\n                            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"card-section padding-top-0"')]),s._v(">")]),s._v("\n                            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{{:book.volumeInfo.infoLink}}"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"_blank"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"button margin-top-1"')]),s._v(">")]),s._v("{{:~t('View on Google Books')}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"media-object-section main-section"')]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"h3"')]),s._v(">")]),s._v("{{:book.volumeInfo.title}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("\n                    {{if book.volumeInfo.subtitle}}\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"h5 subheader"')]),s._v(">")]),s._v("{{:book.volumeInfo.subtitle}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h3")]),s._v(">")]),s._v("\n                    {{/if}}\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"subheader"')]),s._v(">")]),s._v("{{:~t('Author', book.volumeInfo.authors.length)}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"no-bullet margin-left-2 margin-bottom-2"')]),s._v(">")]),s._v("\n                        {{for book.volumeInfo.authors}}\n                        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("{{:#data}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n                        {{/for}}\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{:book.volumeInfo.description}}"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n{{/include}}\n")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# resources/lang/translations.yaml")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Example")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("page:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  en:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Example")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("page")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Page")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("d'exemple")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Hello")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("world:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  en:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Hello")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("world")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Bonjour")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("le")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("monde")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("This")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("an")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("example")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("page:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  en:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("This")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("an")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("example")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("page")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Ceci")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("est")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("une")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("page")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("d'exemple")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Welcome:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  en:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Welcome")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Bienvenue")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/create:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  en:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/create")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/creer")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/edit:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  en:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/edit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/editer")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# Custom translations")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Author:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  en:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("    -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Author")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("    -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Authors")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("  fr:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# Pour nos collègues francophones ;)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("    -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Auteur")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("    -")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Auteurs")]),s._v("\n")])])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},c3d8:function(s,e,t){"use strict";var a=t("d084"),r=t.n(a);r.a},cac9:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Exception handling")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},ce8e:function(s,e,t){"use strict";var a=t("5306"),r=t.n(a);r.a},cecb:function(s,e,t){"use strict";var a=t("b359"),r=t.n(a);r.a},d084:function(s,e,t){},d766:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Translation")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},e13d:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Logging")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},e402:function(s,e,t){},e6bc:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Migrations and seeders")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},eea3:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",[t("h1",[s._v("Events")]),t("p",[s._v("TBD...")])])}],n=t("2877"),o={},l=Object(n["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},f1be:function(s,e,t){"use strict";var a=t("1083"),r=t.n(a);r.a},f270:function(s,e,t){},f637:function(s,e,t){},fc92:function(s,e,t){"use strict";var a=t("f637"),r=t.n(a);r.a}});
//# sourceMappingURL=app.da4c8ab1.js.map